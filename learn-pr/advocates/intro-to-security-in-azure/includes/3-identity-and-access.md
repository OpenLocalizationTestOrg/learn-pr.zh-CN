用于作为公司数据的主要保护的网络外围、防火墙和物理访问控制。 但是网络外围已越来越 porous, 其爆炸式引入了你自己的设备 (BYOD)、移动应用和云应用程序。 

标识已成为新的主安全边界。 因此, 正确的权限身份验证和分配是维护对数据的控制的关键。

Contoso 运输的公司重点是立即解决这些问题。 您的团队的新混合云解决方案需要考虑在已授权用户登录&mdash;时有权访问机密数据的移动应用程序, 此外, 除了让运输车辆持续发送一份对优化数据至关重要的遥测数据流之外。公司的业务。

## <a name="authentication-and-authorization"></a>身份验证和授权

在谈论标识和访问控制时, 需要了解两个基本概念: 身份验证和授权。 它们 underpin 在任何标识和访问过程中按顺序发生的其他内容:

- *身份验证*是建立要访问资源的个人或服务的标识的过程。 它涉及在一方的合法凭据方面有挑战性的行为, 并提供了创建标识和访问控制使用的安全主体的基础。 如果他们是他们所声称的人, 则建立。

- *授权*是确定已通过身份验证的用户或服务拥有的访问级别的过程。 它指定允许访问的数据及其可执行的操作。

> [!NOTE] 
> 身份验证有时缩短为*身份验证*, 而授权有时缩短为*AuthZ*。

azure 通过 azure Active Directory (azure AD) 提供用于管理身份验证和授权的服务。 

## <a name="what-is-azure-active-directory"></a>什么是 Azure Active Directory？

Azure AD 是基于云的标识服务。 它内置了对与现有本地 Active Directory 同步的支持, 也可以独立使用。 这意味着, 无论是内部部署 (包括 Office 365) 还是移动版, 你的所有应用程序都可以共享相同的凭据。 管理员和开发人员可以使用在 Azure AD 中配置的集中式规则和策略来控制对内部和外部数据和应用程序的访问。

Azure AD 提供以下服务:

- **Authentication.** 这包括验证标识以访问应用程序和资源, 并提供自服务密码重置、多重身份验证 (MFA)、自定义禁止密码列表和智能锁定服务等功能。
- **单一登录 (SSO)。** SSO 使用户只需记住一个 ID 和一个密码即可访问多个应用程序。 单一标识与用户关联, 从而简化了安全模型。 当用户更改角色或离开组织时, 访问修改将与该标识相关联, 从而大大减少更改或禁用帐户所需的工作量。
- **应用程序管理。** 您可以使用 Azure AD 应用程序代理、SSO、"我的应用程序" 门户 (也称为 "访问面板") 和 SaaS 应用管理您的云和本地应用程序。
- **企业到企业 (B2B) 标识服务。** 管理您的来宾用户和外部合作伙伴, 同时保持对自己的公司数据企业对客户 (B2C) 标识服务的控制。 在将应用程序与服务一起使用时, 自定义和控制用户注册、登录和管理其配置文件的方式。
- **设备管理。** 管理你的云或本地设备如何访问你的企业数据。

让我们更详细地了解其中的几个方面。

## <a name="single-sign-on"></a>单一登录

用户需要管理的身份越多, 与凭据相关的安全事件的风险就越大。 更多标识意味着要记住和更改的更多密码。 密码策略在应用程序之间有所不同, 随着复杂性要求的增加, 用户将越来越难以记住它们。

现在, 请考虑管理所有这些标识的后勤工作。 当用户处理帐户锁定和密码重置请求时, 会将额外的压力放在帮助办公桌上。 如果用户离开组织, 则跟踪所有这些标识并确保它们已被禁用可能会非常困难。 如果某个标识被忽略, 这可能会允许在已消除它时进行访问。

使用单一登录 (SSO), 用户只需记住一个 ID 和一个密码。 应用程序之间的访问权限被授予一个与用户相关联的标识, 从而简化了安全模型。 当用户更改角色或离开组织时, 访问修改将与单个标识相关联, 从而大大减少更改或禁用帐户所需的工作量。 对帐户使用单一登录可使用户更轻松地管理其身份, 并将提高环境中的安全功能。

:::row:::
  :::column:::
    ![一个代表 Azure Active Directory 的指纹](../media/3-sso-with-azure-ad.png)
  :::column-end:::
    :::column span="3":::
**具有 Azure Active Directory 的 SSO**

通过利用适用于 SSO 的 Azure AD, 您还可以将多个数据源组合到一个智能安全图形中。 此安全图表使您能够为 Azure AD 中的所有帐户提供威胁分析和实时身份保护, 包括从本地 AD 同步的帐户。 通过使用集中的标识提供程序, 您可以集中管理身份基础结构的安全控制、报告、警报和管理。

由于 Contoso 货运将其现有的 Active Directory 实例与 Azure AD 集成, 因此您将能够在整个组织中控制访问的一致性。 如果这样做, 还将大大简化登录到电子邮件和 Office 365 文档的功能, 而无需对其进行身份验证。
  :::column-end:::
:::row-end:::

## <a name="multi-factor-authentication"></a>多因素身份验证

多重身份验证 (MFA) 通过要求两个或更多元素进行完全身份验证来为你的身份验证提供额外的安全性。 这些元素分为三类:

- *您知道的东西*
- *您拥有的内容*
- *您所做的*

**您知道的内容**可能是密码或安全问题的答案。 **您所拥有的内容**可以是接收通知或令牌生成设备的移动应用程序。 **您**通常是某种生物特征属性, 例如在许多移动设备上使用的指纹扫描或面孔扫描。

使用 MFA 可限制凭据泄露的影响, 从而提高身份的安全性。 拥有用户密码的攻击者还需要拥有自己的电话或其脸才能完全进行身份验证。 仅验证单个因素的身份验证是不够的, 并且攻击者无法使用这些凭据进行身份验证。 此安全性带来的好处是巨大的, 我们无法尽可能强调启用 MFA 的重要性。

Azure AD 具有内置的 MFA 功能, 并将与其他第三方 MFA 提供程序集成。 为在 Azure AD 中具有全局管理员角色的任何用户免费提供此权限, 因为这些帐户是高度敏感的帐户。 所有其他帐户都可以通过购买具有此功能&mdash;的许可证并为帐户分配许可证来启用 MFA。

对于 Contoso 发货, 你决定在用户从非域连接的计算机&mdash; (包括驱动程序使用的移动应用程序) 登录时随时启用 MFA。

## <a name="providing-identities-to-services"></a>向服务提供标识

服务具有标识通常很有价值。 通常, 将凭据信息嵌入配置文件中, 并不受最佳实践的侵害。 除了这些配置文件的安全性之外, 任何对系统或存储库的访问权限的用户都可以访问这些凭据和风险暴露。

azure AD 通过两种方法来解决此问题: azure 服务的服务主体和托管标识。

:::row:::
  :::column:::
    ![表示各种角色的图像](../media/3-service-principals.png)
  :::column-end:::
    :::column span="3":::
**服务主体**

若要了解服务主体, 请先了解词汇**标识**和**主体**, 这一点非常有用, 因为它们在身份管理领域中的使用方式。

**标识**只是可以进行身份验证的内容。 显然, 这包括用户的用户名和密码, 但也可以包括应用程序或其他服务器, 这些服务器可能会使用密钥或证书进行身份验证。 作为奖金定义,**帐户**是与标识关联的数据。

**主体**是使用特定角色或声明的标识。 通常情况下, 单独考虑标识和原则并不有用, 但要想在`sudo` Linux 或使用 "以管理员身份运行" 的 Windows 上使用 Bash 提示符。 在这两种情况下, 您仍以与之前相同的身份登录, 但您已更改要执行的角色。 组通常也被视为主体, 因为他们可以分配权限。

**服务主体**是服务或应用程序使用的标识。 与其他标识一样, 可以为其分配角色。
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    ![表示托管标识的图像](../media/3-managed-service-identities.png)
  :::column-end:::
    :::column span="3":::
**Azure 服务的托管标识**

服务主体的创建可能是一个单调乏味的过程, 并且有许多触控点可以使它们保持困难。 Azure 服务的托管身份更容易, 并将为你执行大部分工作。 

可以立即为支持它&mdash;的任何 Azure 服务创建托管标识, 并且该列表将持续增长。 为服务创建托管标识时, 将在 Azure AD 租户上创建帐户。 Azure 基础结构将自动负责对服务进行身份验证并管理帐户。 然后, 可以像使用任何其他 azure AD 帐户一样使用该帐户, 包括安全地允许经过身份验证的服务访问其他 azure 资源。
  :::column-end:::
:::row-end:::

## <a name="role-based-access-control"></a>基于角色的访问控制

角色是权限集, 如 "只读" 或 "投稿人", 可授予用户访问 Azure 服务实例的权限。

将标识直接映射到角色, 或通过组成员身份映射到角色。 将安全主体、访问权限和资源分开可提供简单的访问管理和细化控制。 管理员能够确保授予所需的最低权限。

可以在单独的服务实例级别授予角色, 但这些角色也会向下传递 Azure 资源管理器层次结构。

下面是显示此关系的图表。 在更高作用域 (如整个订阅) 中分配的角色由子作用域继承, 如服务实例。

![显示管理组中基于角色的访问的分层表示形式的插图。](../media/3-role-assignment-scope.png)

### <a name="privileged-identity-management"></a>特权身份管理

除了使用基于角色的访问控制 (RBAC) 管理 Azure 资源访问权限之外, 基础结构保护的综合方法应考虑在组织发生变化和演变时包括角色成员的持续审核。 Azure AD 特权标识管理 (PIM) 是另一个付费的产品, 可提供角色分配、自助服务和实时角色激活以及 azure AD 和 azure 资源访问审核的监督。

![特权标识管理仪表板的屏幕截图](../media/PIM_Dashboard.png)

## <a name="summary"></a>摘要

标识允许我们维护安全周边, 甚至在物理控制之外。 通过单一登录和适当的基于角色的访问配置, 我们始终可以确保谁能够查看和操作我们的数据和基础结构。