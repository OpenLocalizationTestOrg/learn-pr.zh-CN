在此单元中, 您将使用 Azure 门户创建 web 应用程序。

[!include[](../../../includes/azure-sandbox-activate.md)]

## <a name="create-a-web-app"></a>创建 web 应用程序

使用与激活沙盒时相同的帐户登录[Azure 门户](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true)。

::: zone pivot="csharp"

1. 单击左侧导航顶部的 "**创建资源**" 链接。 您在 Azure 上创建的所有内容都是资源。

1. 门户将导航到 "**市场**" 页面。 在此处, 您可以搜索要创建的资源, 或选择用户在 Azure 门户中创建的热门资源之一。

1. 单击 " **web** > **web 应用**"。 门户会将您重定向到 "**新建 Web 应用程序**" 页。

1. 当您创建新的 web 应用程序时, Azure 门户会请求一些信息来为您创建应用程序。 在本节中, 提供以下基本信息:

    1. **应用程序名称**: 客户端想要命名应用`BestBike`程序。 在此字段中键入名称。 在 Azure 上托管的所有其他 web 应用中, 此值必须是全局唯一的, 并且门户将确保没有其他人使用该应用程序名称。 若要确保您的名称是唯一的, 请将一些号码添加到您的应用程序名称中, 直到您找到唯一的变量。

    2. **订阅**: 在此字段中, 需要从下拉列表中选择一个活动的 Azure 订阅。 选择 " **Concierge" 订阅**。

    3. **操作系统**: 在此字段中, 需要决定是使用**Windows**还是**Linux**承载新的 web 应用程序。 此设置直接影响你要选择或创建的应用服务计划。 如果你记得, 应用服务计划类似于具有操作系统的虚拟机, 该计算机上需要具有所有资源 (CPU、RAM 等) 才能运行应用程序。 在这种情况下, 您的客户端首选将 web 应用托管在 Windows 计算机上。 因此, 请将所选内容设为**窗口**。

    4. **发布**: 可以选择发布代码或 Docker 容器图像。 我们将编写代码以在应用服务中运行, 因此请确保选择 "**代码**" 选项。

    5. **Application insights**: Azure Application insights 可帮助您检测和诊断 web 应用程序和 web 服务中的质量问题, 并帮助您了解用户实际使用的功能。 客户端的要求之一是查看一些有关进入网站的流量的真知灼见报告的功能, 并研究当流量变高和低时的趋势。 在这种情况下, 选择 "**启用**" 选项以启用此 web 应用的 application Insights。 选择 "**启用**" 选项后, 还需要选择将存储 application Insights 数据的位置或区域。 请注意, application Insights 仅适用于有限数量的区域。 对于此演示, 请选择任意可用区域。

::: zone-end

::: zone pivot="node"

1. 单击左侧导航顶部的 "**创建资源**" 链接。 您在 Azure 上创建的所有内容都是资源。

1. 门户将导航到 "**市场**" 页面。 在此处, 您可以搜索要创建的资源, 或选择用户在 Azure 门户中创建的热门资源之一。

1. 单击 " **web** > **web 应用**"。 门户会将您重定向到 "**新建 Web 应用程序**" 页。

1. 当您创建新的 web 应用程序时, Azure 门户会请求一些信息来为您创建应用程序。 在本节中, 提供以下基本信息:

    1. **应用程序名称**: 客户端想要命名应用`BestBike`程序。 在此字段中键入名称。 在 Azure 上托管的所有其他 web 应用中, 此值必须是全局唯一的, 并且门户将确保没有其他人使用该应用程序名称。 若要确保您的名称是唯一的, 请将一些号码添加到您的应用程序名称中, 直到您找到唯一的变量。

    2. **订阅**: 在此字段中, 需要从下拉列表中选择一个活动的 Azure 订阅。 选择 "Concierge" 订阅。

    3. **操作系统**: 在此字段中, 需要决定是使用**Windows**还是**Linux**承载新的 web 应用程序。 此设置直接影响你要选择或创建的应用服务计划。 如果你记得, 应用服务计划类似于具有操作系统的虚拟机, 该计算机上需要具有所有资源 (CPU、RAM 等) 才能运行应用程序。 在这种情况下, 客户端首选将 web 应用托管在 Linux 计算机上。 因此, 请将选择设为**Linux**。

    4. **发布**: 可以选择发布代码或 Docker 容器图像。 我们将编写代码以在应用服务中运行, 因此请确保选择 "**代码**" 选项。

    5. **运行时堆栈**: 将 web 应用程序托管在 Linux 应用服务计划中时, 需要通知 app 服务应用程序在什么 web 服务器技术上运行。 我们将使用**node.js**作为运行时, 从列表中选择 node .js 的最新版本。

::: zone-end

::: zone pivot="java"

1. 单击左侧导航顶部的 "**创建资源**" 链接。 您在 Azure 上创建的所有内容都是资源。

1. 门户将导航到 "**市场**" 页面。 在此处, 您可以搜索要创建的资源, 或选择用户在 Azure 门户中创建的热门资源之一。

1. 单击 " **web** > **web 应用**"。 门户会将您重定向到 "**新建 Web 应用程序**" 页。

1. 当您创建新的 web 应用程序时, Azure 门户会请求一些信息来为您创建应用程序。 在本节中, 提供以下基本信息:

    1. **应用程序名称**: 客户端想要命名应用`BestBike`程序。 在此字段中键入名称。 在 Azure 上托管的所有其他 web 应用中, 此值必须是全局唯一的, 并且门户将确保没有其他人使用该应用程序名称。 若要确保您的名称是唯一的, 请将一些号码添加到您的应用程序名称中, 直到您找到唯一的变量。

    2. **订阅**: 在此字段中, 需要从下拉列表中选择一个活动的 Azure 订阅。 选择 "Concierge" 订阅。

    3. **操作系统**: 在此字段中, 需要决定是使用**Windows**还是**Linux**承载新的 web 应用程序。 此设置直接影响你要选择或创建的应用服务计划。 如果你记得, 应用服务计划类似于具有操作系统的虚拟机, 该计算机上需要具有所有资源 (CPU、RAM 等) 才能运行应用程序。 在这种情况下, 客户端首选将 web 应用托管在 Linux 计算机上。 因此, 请将选择设为**Linux**。

    4. **发布**: 可以选择发布代码或 Docker 容器图像。 我们将编写代码以在应用服务中运行, 因此请确保选择 "**代码**" 选项。

    5. **运行时堆栈**: 将 web 应用程序托管在 Linux 应用服务计划中时, 需要通知 app 服务应用程序在什么 web 服务器技术上运行。 我们的 Java 应用程序将在 Tomcat web 服务器上运行, 因此, 请从列表中选择 " **Tomcat 9.0 (JRE 8)** "。

::: zone-end

## <a name="use-the-sandbox-resource-group"></a>使用沙盒资源组

Azure web 应用必须是资源组的一部分。 选择 "**使用现有**" 并选择 " <rgn>[沙盒资源组名称]</rgn>"。

## <a name="create-an-app-service-plan"></a>创建应用服务计划

在此字段中, 需要选择应用服务计划以运行应用程序。 默认情况下, 门户会选择您创建的最新的 App Service 计划。 单击 " **app service 计划/位置**" 字段以导航到 "**应用服务计划**" 页。

单击 "新建**** 链接" 以导航到 "**新建应用服务计划**" 页。 门户向您请求一些信息, 以便创建新的应用服务计划。

1. **App Service plan**: 在此字段中, 为新的 App Service 计划提供名称。 对于此应用程序, 请键入您在上面选择的相同 web 应用程序名称, `-app-service-plan`并追加一个后缀, 以便轻松地将此资源与其他资源区分开来。

2. **位置**: 在此字段中, 需要选择此应用服务计划驻留的区域。 换言之, 请选择应用服务计划将在其中设置运行应用程序所需的虚拟机的地理位置。 在这种情况下, 您可以选择以下列表中的任何选项。

[!include[](../../../includes/azure-sandbox-regions-first-mention-note-friendly.md)]

::: zone pivot="csharp"

3. **定价层**: 在此字段中, 需要选择即将承载应用程序的虚拟机的大小。 单击**>** 符号以导航到 "**定价层**" 页面。

    您可以从以下选项中选择多个选项。 门户根据所需的工作负荷级别对这些选项进行分组。 可用的三个工作负荷类别为开发/测试、生产和独立。 根据要在 Azure 上托管的应用程序的要求, 您将选择相关的工作负荷类别。 现在, 在 "**生产工作负荷**" 类别下选择**S1**定价层。 然后, 单击 "**应用**" 以确认您在上面选择的定价层。

::: zone-end

::: zone pivot="java"

3. **定价层**: 在此字段中, 需要选择即将承载应用程序的虚拟机的大小。 单击**>** 符号以导航到 "**定价层**" 页面。

    您可以从以下选项中选择多个选项。 门户根据所需的工作负荷级别对这些选项进行分组。 可用的三个工作负荷类别为开发/测试、生产和独立。 根据要在 Azure 上托管的应用程序的要求, 您将选择相关的工作负荷类别。 现在, 在 "**生产工作负荷**" 类别下选择 " **P1V2** " 定价层。 然后, 单击 "**应用**" 以确认您在上面选择的定价层。

::: zone-end

现在, 您将返回到 "**新建应用服务计划**" 页。

4. 单击 **"确定"** 按钮以使用新的应用服务计划。

    ![显示新的应用程序服务计划页面的屏幕截图, 其中包含本练习在设置中的示例值](../media/3-new-app-service-plan.PNG)
   
5. 单击 "**创建**" 按钮以启动创建 web 应用程序的过程。

    > [!NOTE]
    > 可能需要几秒钟的时间, 才能让 web 应用程序创建完毕并准备好使用。

门户会将您重定向到仪表板页面, 并在创建 web 应用程序后通知您。

应用准备就绪后, 导航到 Azure 门户中的新应用。

1. 单击左侧导航栏上的 "**所有资源**" 菜单。 "**所有资源**" 页列出了您在 Azure 门户中创建的所有资源。

2. 单击刚刚为你创建的 BestBike 应用服务。

    > [!NOTE]
    > 如果您按名称 "BestBike" 搜索您的应用程序, 您还可以找到为新的 web 应用程序创建的 application Insights 和 app Service 计划资源。 请确保您在使用**应用服务**类型的资源中单击。

    ![显示新创建的 BestBike123 应用服务的 "所有资源" 页中的示例搜索结果的屏幕截图。](../media/3-web-app.PNG)

门户将打开 web 应用服务主页, 并选中 "**概述**" 部分。

![显示 BestBike App Service 页面的屏幕截图, 其中突出显示了 "概述" 部分的 URL 链接。](../media/3-web-app-home.PNG)

若要预览新的 web 应用程序的默认内容, 请单击 Azure 门户右上部的**URL** 。 如果您看到占位符网页, 则表示您已成功创建 web 应用程序。
