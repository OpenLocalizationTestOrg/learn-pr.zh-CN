如果想要了解管理应用程序的配置机密时可能出现的问题, 请不要再深入了解关于高级开发人员的 Steve。

Steve 在一家宠物食品交付公司的工作在几周内已完成。 他正在浏览公司的 web 应用&mdash;的详细信息 .net Core web 应用程序, 该应用程序使用 Azure SQL 数据库存储订单信息和第三方 api, 以用于信用卡帐单和映射客户&mdash;地址意外将 orders 数据库的连接字符串粘贴到公共论坛中。

天后, 记帐会注意到, 公司提供了许多没有人支付的宠物食物。 有人使用连接字符串访问数据库、反向工程架构和下订单, 而无需通过网站。

在意识到错误后, Steve hurriedly 更改数据库密码以锁定攻击者, 从而破坏网站。 用户直接登录到应用程序服务器并更改应用程序配置, 而不是重新部署, 但服务器仍在显示失败的请求。

斯蒂夫忘记了应用程序的多个实例在不同的服务器上运行, 并且仅更改了其中一个的配置。 需要完全重新部署, 从而导致另外30分钟的停机时间。

泄漏数据库连接字符串、API 密钥或服务密码可能是灾难性的。 被窃或删除的数据、财务伤害、应用程序宕机和对业务资产和声誉的不可修复损坏都是潜在的结果。 遗憾的是, 机密值通常需要在多个位置同时部署, 并在 inopportune 时更改。 您必须将其存储在*某个位置*! 我们来看看如何将所有这些与 Azure KeyVault 的安全进行。

## <a name="learning-objectives"></a>学习目标

在本模块中, 您将:

- 了解哪些类型的信息可以存储在 Azure Key Vault 中
- 创建 Azure Key Vault 并使用它来存储机密配置值
- 允许从具有托管标识的 azure 应用服务 web 应用对保管库进行安全访问, 并使用 azure 资源
- 实现从保管库检索机密的 web 应用程序
