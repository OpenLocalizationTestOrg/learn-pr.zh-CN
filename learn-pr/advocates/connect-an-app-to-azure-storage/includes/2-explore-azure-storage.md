首先, 让我们快速了解一下 Azure 存储服务、数据样式和帐户。 

Microsoft Azure 存储是在云中提供持久、安全和可扩展存储的托管服务。 我们来细分这些条款。

| | |
|-|-|
| **既** | 冗余可确保在发生暂时性硬件故障时数据是安全的。 您还可以跨数据中心或地理区域复制数据, 以进一步防止本地灾难或自然灾害。 以这种方式复制的数据在发生意外中断时仍保持高可用性。 |
| **安全** | 写入 Azure 存储的所有数据都由服务加密。 Azure 存储为你提供对你的数据具有访问权限的用户的精细控制。 |
| **可调** | Azure 存储设计为可进行大规模扩展, 以满足当今应用程序的数据存储和性能需求。 |
| **托管** | Microsoft Azure 处理维护和任何关键问题。 |

单个 Azure 订阅可承载最大为200个存储帐户, 每个存储帐户都可以容纳 500 TB 的数据。 如果你有业务案例, 可以与 Azure 存储团队联系并在订阅中获取最多250存储帐户的批准, 这会将最大存储量推送到 125 pb!

## <a name="azure-data-services"></a>Azure data services

Azure 存储包括四种类型的数据:

- **blob**: 文本和二进制数据的可缩放的大型对象存储区。
- **文件**: 云或本地部署的托管文件共享。
- **队列**: 用于在应用程序组件之间进行可靠消息传递的邮件存储。
- **表**: 用于结构化数据的 schemaless 存储的 NoSQL 存储。 此服务已被 Cosmos DB 取代, 此处不会对此进行讨论。

Azure 存储中的所有这些数据类型都可从全球各地通过 HTTP 或 HTTPS 访问。 Microsoft 提供了适用于 Azure 存储的各种语言的 sdk 以及 REST API。 你还可以在 Azure 门户中直观地浏览你的数据。

### <a name="blob-storage"></a>Blob 存储

Azure Blob 存储是一个为存储大量非结构化数据 (如文本或二进制数据) 而优化的对象存储解决方案。 Blob 存储的理想之选:

- 将图像或文档直接提供给浏览器, 包括完整的静态网站。
- 存储用于分布式访问的文件。
- 流式传输视频和音频。
- 存储用于备份和还原、灾难恢复和存档的数据。
- 存储用于通过内部部署或 Azure 托管服务进行分析的数据。

Azure 存储支持三种类型的 blob:

| Blob 类型 | 说明 |
|-----------|-------------|
| **块 blob** | 块 blob 用于容纳最大 ~ 5 TB 的文本或二进制文件 (100 MB 的50000块) 大小。 块 blob 的主要用例是从开头到结尾读取的文件的存储, 如网站的媒体文件或图像文件。 它们被命名为块 blob, 因为大于 100 MB 的文件必须上载为较小的块, 然后合并 (或提交) 到最终 blob 中。 |
| **页面 blob** | 页面 blob 用于容纳最大大小为 8 TB 的随机访问文件。 页面 blob 主要用作用于为 azure 虚拟机 (azure vm) 提供持久磁盘的 vhd 的后备存储。 它们被命名为页面 blob, 因为它们提供了对512字节页面的随机读/写访问权限。 |
| **追加 blob** | Append blob 由块 (如块 blob) 组成, 但它们针对追加操作进行了优化。 这些信息通常用于将来自一个或多个源的信息记录到同一个 blob 中。 例如, 您可能会将所有跟踪日志记录写入到在多个虚拟机上运行的应用程序的同一 append blob。 单个追加 blob 最高可达 195 GB。 |

### <a name="files"></a>附件

通过 Azure 文件, 您可以设置可通过使用标准服务器消息块 (SMB) 协议访问的高可用网络文件共享。 这意味着多个虚拟机可以共享相同的文件, 同时具有读写访问权限。 您还可以使用 REST 接口或存储客户端库读取文件。 您还可以将唯一的 URL 与任何文件相关联, 以便在设定的一段时间内对私有文件进行精确的访问。 文件共享可用于多种常见方案:

- 存储虚拟机、工具或实用程序的共享配置文件, 以便每个人都使用相同的版本。
- 日志文件, 如诊断、指标和故障转储。
- 在本地应用程序和 Azure vm 之间共享数据, 以允许在一段时间内将应用程序迁移到云。

### <a name="queues"></a>队列

Azure 队列服务用于存储和检索邮件。 队列消息的大小最大为 64 KB, 队列可以包含上百万封邮件。 队列通常用于存储要异步处理的邮件的列表。

您可以使用队列将应用程序的不同部分松散连接在一起。 例如, 我们可以对用户上传的照片执行图像处理。 或许我们希望提供某种人脸的检测或标记功能, 以便用户可以搜索其存储在我们的服务中的所有图像。 我们可以使用队列将邮件传递到图像处理服务, 让它知道新图像已上传并准备好进行处理。 这种体系结构使您能够单独开发和更新服务的每个部分。

## <a name="azure-storage-accounts"></a>Azure 存储帐户

若要从应用程序访问这些服务中的任何一种, 必须创建一个_存储帐户_。 存储帐户在 Azure 中提供了一个用于存储和访问数据对象的唯一命名空间。 存储帐户包含您在该帐户下创建的任何 blob、文件、队列、表和 VM 磁盘。

### <a name="creating-a-storage-account"></a>创建存储帐户

您可以使用 azure 门户、azure PowerShell 或 azure CLI 创建 azure 存储帐户。 Azure 存储提供了三个独特的帐户选项, 支持不同的定价和功能。

> [!div class="mx-tableFixed"]
> | 帐户类型 | 说明 |
> |--------------|-------------|
> | **常规-用途 v2 (GPv2)** | 常规用途 v2 (GPv2) 帐户是支持 blob、文件、队列和表的所有最新功能的存储帐户。 GPv2 帐户的定价旨在提供最低的每 gb 价格。 |
> | **常规用途 v1 (GPv1)** | 通用 v1 (GPv1) 帐户提供对所有 Azure 存储服务的访问权限, 但可能没有最新功能或每 gb 最低定价。 例如, GPv1 中不支持酷存储和存档存储。 GPv1 交易的价格较低, 因此具有较高改动或高读取率的工作负载可能会从此帐户类型获益。 |
> | **Blob 存储帐户** | 旧版帐户类型, blob 存储帐户支持所有相同的块 blob 功能作为 GPv2, 但其限制为仅支持 block 和 append blob。 定价大致类似于通用 v2 帐户的定价。 |

如果你有兴趣了解有关创建存储帐户的详细信息, 请务必通过在学习门户中**创建 Azure 存储帐户**模块进行查找。