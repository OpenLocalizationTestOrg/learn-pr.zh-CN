<span data-ttu-id="05aa7-101">首先, 让我们快速了解一下 Azure 存储服务、数据样式和帐户。</span><span class="sxs-lookup"><span data-stu-id="05aa7-101">Let's start by taking a quick look at Azure storage services, data styles, and accounts.</span></span> 

<span data-ttu-id="05aa7-102">Microsoft Azure 存储是在云中提供持久、安全和可扩展存储的托管服务。</span><span class="sxs-lookup"><span data-stu-id="05aa7-102">Microsoft Azure Storage is a managed service that provides durable, secure, and scalable storage in the cloud.</span></span> <span data-ttu-id="05aa7-103">我们来细分这些条款。</span><span class="sxs-lookup"><span data-stu-id="05aa7-103">Let's break these terms down.</span></span>

| | |
|-|-|
| <span data-ttu-id="05aa7-104">**既**</span><span class="sxs-lookup"><span data-stu-id="05aa7-104">**Durable**</span></span> | <span data-ttu-id="05aa7-105">冗余可确保在发生暂时性硬件故障时数据是安全的。</span><span class="sxs-lookup"><span data-stu-id="05aa7-105">Redundancy ensures that your data is safe in the event of transient hardware failures.</span></span> <span data-ttu-id="05aa7-106">您还可以跨数据中心或地理区域复制数据, 以进一步防止本地灾难或自然灾害。</span><span class="sxs-lookup"><span data-stu-id="05aa7-106">You can also replicate data across datacenters or geographical regions for additional protection from local catastrophe or natural disaster.</span></span> <span data-ttu-id="05aa7-107">以这种方式复制的数据在发生意外中断时仍保持高可用性。</span><span class="sxs-lookup"><span data-stu-id="05aa7-107">Data replicated in this way remains highly available in the event of an unexpected outage.</span></span> |
| <span data-ttu-id="05aa7-108">**安全**</span><span class="sxs-lookup"><span data-stu-id="05aa7-108">**Secure**</span></span> | <span data-ttu-id="05aa7-109">写入 Azure 存储的所有数据都由服务加密。</span><span class="sxs-lookup"><span data-stu-id="05aa7-109">All data written to Azure Storage is encrypted by the service.</span></span> <span data-ttu-id="05aa7-110">Azure 存储为你提供对你的数据具有访问权限的用户的精细控制。</span><span class="sxs-lookup"><span data-stu-id="05aa7-110">Azure Storage provides you with fine-grained control over who has access to your data.</span></span> |
| <span data-ttu-id="05aa7-111">**可调**</span><span class="sxs-lookup"><span data-stu-id="05aa7-111">**Scalable**</span></span> | <span data-ttu-id="05aa7-112">Azure 存储设计为可进行大规模扩展, 以满足当今应用程序的数据存储和性能需求。</span><span class="sxs-lookup"><span data-stu-id="05aa7-112">Azure Storage is designed to be massively scalable to meet the data storage and performance needs of today's applications.</span></span> |
| <span data-ttu-id="05aa7-113">**托管**</span><span class="sxs-lookup"><span data-stu-id="05aa7-113">**Managed**</span></span> | <span data-ttu-id="05aa7-114">Microsoft Azure 处理维护和任何关键问题。</span><span class="sxs-lookup"><span data-stu-id="05aa7-114">Microsoft Azure handles maintenance and any critical problems for you.</span></span> |

<span data-ttu-id="05aa7-115">单个 Azure 订阅可承载最大为200个存储帐户, 每个存储帐户都可以容纳 500 TB 的数据。</span><span class="sxs-lookup"><span data-stu-id="05aa7-115">A single Azure subscription can host up to 200 storage accounts, each of which can hold 500 TB of data.</span></span> <span data-ttu-id="05aa7-116">如果你有业务案例, 可以与 Azure 存储团队联系并在订阅中获取最多250存储帐户的批准, 这会将最大存储量推送到 125 pb!</span><span class="sxs-lookup"><span data-stu-id="05aa7-116">If you have a business case, you can talk to the Azure Storage team and get approval for up to 250 storage accounts in a subscription, which pushes your max storage up to 125 Petabytes!</span></span>

## <a name="azure-data-services"></a><span data-ttu-id="05aa7-117">Azure data services</span><span class="sxs-lookup"><span data-stu-id="05aa7-117">Azure data services</span></span>

<span data-ttu-id="05aa7-118">Azure 存储包括四种类型的数据:</span><span class="sxs-lookup"><span data-stu-id="05aa7-118">Azure storage includes four types of data:</span></span>

- <span data-ttu-id="05aa7-119">**blob**: 文本和二进制数据的可缩放的大型对象存储区。</span><span class="sxs-lookup"><span data-stu-id="05aa7-119">**Blobs**: A massively scalable object store for text and binary data.</span></span>
- <span data-ttu-id="05aa7-120">**文件**: 云或本地部署的托管文件共享。</span><span class="sxs-lookup"><span data-stu-id="05aa7-120">**Files**: Managed file shares for cloud or on-premises deployments.</span></span>
- <span data-ttu-id="05aa7-121">**队列**: 用于在应用程序组件之间进行可靠消息传递的邮件存储。</span><span class="sxs-lookup"><span data-stu-id="05aa7-121">**Queues**: A messaging store for reliable messaging between application components.</span></span>
- <span data-ttu-id="05aa7-122">**表**: 用于结构化数据的 schemaless 存储的 NoSQL 存储。</span><span class="sxs-lookup"><span data-stu-id="05aa7-122">**Tables**: A NoSQL store for schemaless storage of structured data.</span></span> <span data-ttu-id="05aa7-123">此服务已被 Cosmos DB 取代, 此处不会对此进行讨论。</span><span class="sxs-lookup"><span data-stu-id="05aa7-123">This service has been replaced by Cosmos DB and will not be discussed here.</span></span>

<span data-ttu-id="05aa7-124">Azure 存储中的所有这些数据类型都可从全球各地通过 HTTP 或 HTTPS 访问。</span><span class="sxs-lookup"><span data-stu-id="05aa7-124">All of these data types in Azure Storage are accessible from anywhere in the world over HTTP or HTTPS.</span></span> <span data-ttu-id="05aa7-125">Microsoft 提供了适用于 Azure 存储的各种语言的 sdk 以及 REST API。</span><span class="sxs-lookup"><span data-stu-id="05aa7-125">Microsoft provides SDKs for Azure Storage in a variety of languages, as well as a REST API.</span></span> <span data-ttu-id="05aa7-126">你还可以在 Azure 门户中直观地浏览你的数据。</span><span class="sxs-lookup"><span data-stu-id="05aa7-126">You can also visually explore your data right in the Azure portal.</span></span>

### <a name="blob-storage"></a><span data-ttu-id="05aa7-127">Blob 存储</span><span class="sxs-lookup"><span data-stu-id="05aa7-127">Blob storage</span></span>

<span data-ttu-id="05aa7-128">Azure Blob 存储是一个为存储大量非结构化数据 (如文本或二进制数据) 而优化的对象存储解决方案。</span><span class="sxs-lookup"><span data-stu-id="05aa7-128">Azure Blob storage is an object storage solution optimized for storing massive amounts of unstructured data, such as text or binary data.</span></span> <span data-ttu-id="05aa7-129">Blob 存储的理想之选:</span><span class="sxs-lookup"><span data-stu-id="05aa7-129">Blob storage is ideal for:</span></span>

- <span data-ttu-id="05aa7-130">将图像或文档直接提供给浏览器, 包括完整的静态网站。</span><span class="sxs-lookup"><span data-stu-id="05aa7-130">Serving images or documents directly to a browser, including full static websites.</span></span>
- <span data-ttu-id="05aa7-131">存储用于分布式访问的文件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-131">Storing files for distributed access.</span></span>
- <span data-ttu-id="05aa7-132">流式传输视频和音频。</span><span class="sxs-lookup"><span data-stu-id="05aa7-132">Streaming video and audio.</span></span>
- <span data-ttu-id="05aa7-133">存储用于备份和还原、灾难恢复和存档的数据。</span><span class="sxs-lookup"><span data-stu-id="05aa7-133">Storing data for backup and restoration, disaster recovery, and archiving.</span></span>
- <span data-ttu-id="05aa7-134">存储用于通过内部部署或 Azure 托管服务进行分析的数据。</span><span class="sxs-lookup"><span data-stu-id="05aa7-134">Storing data for analysis by an on-premises or Azure-hosted service.</span></span>

<span data-ttu-id="05aa7-135">Azure 存储支持三种类型的 blob:</span><span class="sxs-lookup"><span data-stu-id="05aa7-135">Azure Storage supports three kinds of blobs:</span></span>

| <span data-ttu-id="05aa7-136">Blob 类型</span><span class="sxs-lookup"><span data-stu-id="05aa7-136">Blob type</span></span> | <span data-ttu-id="05aa7-137">说明</span><span class="sxs-lookup"><span data-stu-id="05aa7-137">Description</span></span> |
|-----------|-------------|
| <span data-ttu-id="05aa7-138">**块 blob**</span><span class="sxs-lookup"><span data-stu-id="05aa7-138">**Block blobs**</span></span> | <span data-ttu-id="05aa7-139">块 blob 用于容纳最大 ~ 5 TB 的文本或二进制文件 (100 MB 的50000块) 大小。</span><span class="sxs-lookup"><span data-stu-id="05aa7-139">Block blobs are used to hold text or binary files up to ~5 TB (50,000 blocks of 100 MB) in size.</span></span> <span data-ttu-id="05aa7-140">块 blob 的主要用例是从开头到结尾读取的文件的存储, 如网站的媒体文件或图像文件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-140">The primary use case for block blobs is the storage of files that are read from beginning to end, such as media files or image files for websites.</span></span> <span data-ttu-id="05aa7-141">它们被命名为块 blob, 因为大于 100 MB 的文件必须上载为较小的块, 然后合并 (或提交) 到最终 blob 中。</span><span class="sxs-lookup"><span data-stu-id="05aa7-141">They are named block blobs because files larger than 100 MB must be uploaded as small blocks, which are then consolidated (or committed) into the final blob.</span></span> |
| <span data-ttu-id="05aa7-142">**页面 blob**</span><span class="sxs-lookup"><span data-stu-id="05aa7-142">**Page blobs**</span></span> | <span data-ttu-id="05aa7-143">页面 blob 用于容纳最大大小为 8 TB 的随机访问文件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-143">Page blobs are used to hold random-access files up to 8 TB in size.</span></span> <span data-ttu-id="05aa7-144">页面 blob 主要用作用于为 azure 虚拟机 (azure vm) 提供持久磁盘的 vhd 的后备存储。</span><span class="sxs-lookup"><span data-stu-id="05aa7-144">Page blobs are used primarily as the backing storage for the VHDs used to provide durable disks for Azure Virtual Machines (Azure VMs).</span></span> <span data-ttu-id="05aa7-145">它们被命名为页面 blob, 因为它们提供了对512字节页面的随机读/写访问权限。</span><span class="sxs-lookup"><span data-stu-id="05aa7-145">They are named page blobs because they provide random read/write access to 512-byte pages.</span></span> |
| <span data-ttu-id="05aa7-146">**追加 blob**</span><span class="sxs-lookup"><span data-stu-id="05aa7-146">**Append blobs**</span></span> | <span data-ttu-id="05aa7-147">Append blob 由块 (如块 blob) 组成, 但它们针对追加操作进行了优化。</span><span class="sxs-lookup"><span data-stu-id="05aa7-147">Append blobs are made up of blocks like block blobs, but they are optimized for append operations.</span></span> <span data-ttu-id="05aa7-148">这些信息通常用于将来自一个或多个源的信息记录到同一个 blob 中。</span><span class="sxs-lookup"><span data-stu-id="05aa7-148">These are frequently used for logging information from one or more sources into the same blob.</span></span> <span data-ttu-id="05aa7-149">例如, 您可能会将所有跟踪日志记录写入到在多个虚拟机上运行的应用程序的同一 append blob。</span><span class="sxs-lookup"><span data-stu-id="05aa7-149">For example, you might write all of your trace logging to the same append blob for an application running on multiple VMs.</span></span> <span data-ttu-id="05aa7-150">单个追加 blob 最高可达 195 GB。</span><span class="sxs-lookup"><span data-stu-id="05aa7-150">A single append blob can be up to 195 GB.</span></span> |

### <a name="files"></a><span data-ttu-id="05aa7-151">附件</span><span class="sxs-lookup"><span data-stu-id="05aa7-151">Files</span></span>

<span data-ttu-id="05aa7-152">通过 Azure 文件, 您可以设置可通过使用标准服务器消息块 (SMB) 协议访问的高可用网络文件共享。</span><span class="sxs-lookup"><span data-stu-id="05aa7-152">Azure Files enables you to set up highly available network file shares that can be accessed by using the standard Server Message Block (SMB) protocol.</span></span> <span data-ttu-id="05aa7-153">这意味着多个虚拟机可以共享相同的文件, 同时具有读写访问权限。</span><span class="sxs-lookup"><span data-stu-id="05aa7-153">This means that multiple VMs can share the same files with both read and write access.</span></span> <span data-ttu-id="05aa7-154">您还可以使用 REST 接口或存储客户端库读取文件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-154">You can also read the files using the REST interface or the storage client libraries.</span></span> <span data-ttu-id="05aa7-155">您还可以将唯一的 URL 与任何文件相关联, 以便在设定的一段时间内对私有文件进行精确的访问。</span><span class="sxs-lookup"><span data-stu-id="05aa7-155">You can also associate a unique URL to any file to allow fine-grained access to a private file for a set period of time.</span></span> <span data-ttu-id="05aa7-156">文件共享可用于多种常见方案:</span><span class="sxs-lookup"><span data-stu-id="05aa7-156">File shares can be used for many common scenarios:</span></span>

- <span data-ttu-id="05aa7-157">存储虚拟机、工具或实用程序的共享配置文件, 以便每个人都使用相同的版本。</span><span class="sxs-lookup"><span data-stu-id="05aa7-157">Storing shared configuration files for VMs, tools, or utilities so that everyone is using the same version.</span></span>
- <span data-ttu-id="05aa7-158">日志文件, 如诊断、指标和故障转储。</span><span class="sxs-lookup"><span data-stu-id="05aa7-158">Log files such as diagnostics, metrics, and crash dumps.</span></span>
- <span data-ttu-id="05aa7-159">在本地应用程序和 Azure vm 之间共享数据, 以允许在一段时间内将应用程序迁移到云。</span><span class="sxs-lookup"><span data-stu-id="05aa7-159">Shared data between on-premises applications and Azure VMs to allow migration of apps to the cloud over a period of time.</span></span>

### <a name="queues"></a><span data-ttu-id="05aa7-160">队列</span><span class="sxs-lookup"><span data-stu-id="05aa7-160">Queues</span></span>

<span data-ttu-id="05aa7-161">Azure 队列服务用于存储和检索邮件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-161">The Azure Queue service is used to store and retrieve messages.</span></span> <span data-ttu-id="05aa7-162">队列消息的大小最大为 64 KB, 队列可以包含上百万封邮件。</span><span class="sxs-lookup"><span data-stu-id="05aa7-162">Queue messages can be up to 64 KB in size, and a queue can contain millions of messages.</span></span> <span data-ttu-id="05aa7-163">队列通常用于存储要异步处理的邮件的列表。</span><span class="sxs-lookup"><span data-stu-id="05aa7-163">Queues are generally used to store lists of messages to be processed asynchronously.</span></span>

<span data-ttu-id="05aa7-164">您可以使用队列将应用程序的不同部分松散连接在一起。</span><span class="sxs-lookup"><span data-stu-id="05aa7-164">You can use queues to loosely connect different parts of your application together.</span></span> <span data-ttu-id="05aa7-165">例如, 我们可以对用户上传的照片执行图像处理。</span><span class="sxs-lookup"><span data-stu-id="05aa7-165">For example, we could perform image processing on the photos uploaded by our users.</span></span> <span data-ttu-id="05aa7-166">或许我们希望提供某种人脸的检测或标记功能, 以便用户可以搜索其存储在我们的服务中的所有图像。</span><span class="sxs-lookup"><span data-stu-id="05aa7-166">Perhaps we want to provide some sort of face detection or tagging capability, so people can search through all the images they have stored in our service.</span></span> <span data-ttu-id="05aa7-167">我们可以使用队列将邮件传递到图像处理服务, 让它知道新图像已上传并准备好进行处理。</span><span class="sxs-lookup"><span data-stu-id="05aa7-167">We could use queues to pass messages to our image processing service to let it know that new images have been uploaded and are ready for processing.</span></span> <span data-ttu-id="05aa7-168">这种体系结构使您能够单独开发和更新服务的每个部分。</span><span class="sxs-lookup"><span data-stu-id="05aa7-168">This sort of architecture would allow you to develop and update each part of the service independently.</span></span>

## <a name="azure-storage-accounts"></a><span data-ttu-id="05aa7-169">Azure 存储帐户</span><span class="sxs-lookup"><span data-stu-id="05aa7-169">Azure storage accounts</span></span>

<span data-ttu-id="05aa7-170">若要从应用程序访问这些服务中的任何一种, 必须创建一个_存储帐户_。</span><span class="sxs-lookup"><span data-stu-id="05aa7-170">To access any of these services from an application, you have to create a _storage account_.</span></span> <span data-ttu-id="05aa7-171">存储帐户在 Azure 中提供了一个用于存储和访问数据对象的唯一命名空间。</span><span class="sxs-lookup"><span data-stu-id="05aa7-171">The storage account provides a unique namespace in Azure to store and access your data objects.</span></span> <span data-ttu-id="05aa7-172">存储帐户包含您在该帐户下创建的任何 blob、文件、队列、表和 VM 磁盘。</span><span class="sxs-lookup"><span data-stu-id="05aa7-172">A storage account contains any blobs, files, queues, tables, and VM disks that you create under that account.</span></span>

### <a name="creating-a-storage-account"></a><span data-ttu-id="05aa7-173">创建存储帐户</span><span class="sxs-lookup"><span data-stu-id="05aa7-173">Creating a storage account</span></span>

<span data-ttu-id="05aa7-174">您可以使用 azure 门户、azure PowerShell 或 azure CLI 创建 azure 存储帐户。</span><span class="sxs-lookup"><span data-stu-id="05aa7-174">You can create an Azure storage account using the Azure portal, Azure PowerShell, or Azure CLI.</span></span> <span data-ttu-id="05aa7-175">Azure 存储提供了三个独特的帐户选项, 支持不同的定价和功能。</span><span class="sxs-lookup"><span data-stu-id="05aa7-175">Azure Storage provides three distinct account options with different pricing and features supported.</span></span>

> [!div class="mx-tableFixed"]
> | <span data-ttu-id="05aa7-176">帐户类型</span><span class="sxs-lookup"><span data-stu-id="05aa7-176">Account type</span></span> | <span data-ttu-id="05aa7-177">说明</span><span class="sxs-lookup"><span data-stu-id="05aa7-177">Description</span></span> |
> |--------------|-------------|
> | <span data-ttu-id="05aa7-178">**常规-用途 v2 (GPv2)**</span><span class="sxs-lookup"><span data-stu-id="05aa7-178">**General-purpose v2 (GPv2)**</span></span> | <span data-ttu-id="05aa7-179">常规用途 v2 (GPv2) 帐户是支持 blob、文件、队列和表的所有最新功能的存储帐户。</span><span class="sxs-lookup"><span data-stu-id="05aa7-179">General-purpose v2 (GPv2) accounts are storage accounts that support all of the latest features for blobs, files, queues, and tables.</span></span> <span data-ttu-id="05aa7-180">GPv2 帐户的定价旨在提供最低的每 gb 价格。</span><span class="sxs-lookup"><span data-stu-id="05aa7-180">Pricing for GPv2 accounts has been designed to deliver the lowest per gigabyte prices.</span></span> |
> | <span data-ttu-id="05aa7-181">**常规用途 v1 (GPv1)**</span><span class="sxs-lookup"><span data-stu-id="05aa7-181">**General-purpose v1 (GPv1)**</span></span> | <span data-ttu-id="05aa7-182">通用 v1 (GPv1) 帐户提供对所有 Azure 存储服务的访问权限, 但可能没有最新功能或每 gb 最低定价。</span><span class="sxs-lookup"><span data-stu-id="05aa7-182">General-purpose v1 (GPv1) accounts provide access to all Azure Storage services but may not have the latest features or the lowest per gigabyte pricing.</span></span> <span data-ttu-id="05aa7-183">例如, GPv1 中不支持酷存储和存档存储。</span><span class="sxs-lookup"><span data-stu-id="05aa7-183">For example, cool storage and archive storage are not supported in GPv1.</span></span> <span data-ttu-id="05aa7-184">GPv1 交易的价格较低, 因此具有较高改动或高读取率的工作负载可能会从此帐户类型获益。</span><span class="sxs-lookup"><span data-stu-id="05aa7-184">Pricing is lower for GPv1 transactions, so workloads with high churn or high read rates may benefit from this account type.</span></span> |
> | <span data-ttu-id="05aa7-185">**Blob 存储帐户**</span><span class="sxs-lookup"><span data-stu-id="05aa7-185">**Blob storage accounts**</span></span> | <span data-ttu-id="05aa7-186">旧版帐户类型, blob 存储帐户支持所有相同的块 blob 功能作为 GPv2, 但其限制为仅支持 block 和 append blob。</span><span class="sxs-lookup"><span data-stu-id="05aa7-186">A legacy account type, blob storage accounts support all the same block blob features as GPv2, but they are limited to supporting only block and append blobs.</span></span> <span data-ttu-id="05aa7-187">定价大致类似于通用 v2 帐户的定价。</span><span class="sxs-lookup"><span data-stu-id="05aa7-187">Pricing is broadly similar to pricing for general-purpose v2 accounts.</span></span> |

<span data-ttu-id="05aa7-188">如果你有兴趣了解有关创建存储帐户的详细信息, 请务必通过在学习门户中**创建 Azure 存储帐户**模块进行查找。</span><span class="sxs-lookup"><span data-stu-id="05aa7-188">If you are interested in learning more about creating storage accounts, make sure to go through the **Create an Azure storage account** module in the learning portal.</span></span>