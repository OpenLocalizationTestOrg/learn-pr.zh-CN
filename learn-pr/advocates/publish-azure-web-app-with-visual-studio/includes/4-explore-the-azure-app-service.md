<span data-ttu-id="78d6c-101">你创建了一个网站, 并且想要将其部署到 Azure。</span><span class="sxs-lookup"><span data-stu-id="78d6c-101">You created a site and you want to deploy it to Azure.</span></span> <span data-ttu-id="78d6c-102">现在, 我们需要考虑使用哪种 Azure 服务来最大限度地支持我们的需求。</span><span class="sxs-lookup"><span data-stu-id="78d6c-102">Now we need to consider which Azure services to leverage to best support our needs.</span></span> <span data-ttu-id="78d6c-103">应用服务为您的应用程序提供高度可扩展、自我修补的 web 托管服务。</span><span class="sxs-lookup"><span data-stu-id="78d6c-103">App Service provides a highly scalable, self-patching web hosting service for your applications.</span></span>

<span data-ttu-id="78d6c-104">在这里, 我们将介绍如何使用 Visual Studio 将 ASP.NET 核心 web 应用程序发布到 Azure 应用服务计划。</span><span class="sxs-lookup"><span data-stu-id="78d6c-104">Here, we look at how to use Visual Studio to publish your ASP.NET Core web application to an Azure App Service plan.</span></span>

## <a name="what-is-the-azure-app-service"></a><span data-ttu-id="78d6c-105">什么是 Azure 应用服务？</span><span class="sxs-lookup"><span data-stu-id="78d6c-105">What is the Azure App Service?</span></span>

<span data-ttu-id="78d6c-106">Azure 应用服务是一种用于承载 web 应用程序、REST api 和移动 backends 的服务。</span><span class="sxs-lookup"><span data-stu-id="78d6c-106">Azure App Service is a service for hosting web applications, REST APIs, and mobile backends.</span></span> <span data-ttu-id="78d6c-107">应用程序服务支持在 .net 中编写的代码、.net Core、Java、Ruby、node.js、PHP 和 Python。</span><span class="sxs-lookup"><span data-stu-id="78d6c-107">App Service supports code written in  .NET, .NET Core, Java, Ruby, Node.js, PHP, and Python.</span></span> <span data-ttu-id="78d6c-108">应用程序服务是大多数网站的理想选择, 尤其是在不需要对托管基础结构进行大量控制的情况下。</span><span class="sxs-lookup"><span data-stu-id="78d6c-108">App Service is ideal for most websites, particularly if you don't need a lot of control over the hosting infrastructure.</span></span>

## <a name="what-is-the-app-service-plan"></a><span data-ttu-id="78d6c-109">什么是应用服务计划？</span><span class="sxs-lookup"><span data-stu-id="78d6c-109">What is the App Service plan?</span></span>

<span data-ttu-id="78d6c-110">app Service plan 定义您的应用程序将使用的计算资源、这些资源所在的位置、规划可使用的其他资源数以及定价层。</span><span class="sxs-lookup"><span data-stu-id="78d6c-110">The App Service plan defines the compute resources your app will consume, where those resources are located, how many additional resources the plan can consume, and the pricing tier.</span></span> <span data-ttu-id="78d6c-111">这些计算资源类似于传统 web 托管中的服务器场。</span><span class="sxs-lookup"><span data-stu-id="78d6c-111">These compute resources are analogous to the server farm in conventional web hosting.</span></span> <span data-ttu-id="78d6c-112">可以将一个或多个应用程序配置为在相同的应用服务计划上运行。</span><span class="sxs-lookup"><span data-stu-id="78d6c-112">One or more apps can be configured to run on the same App Service plan.</span></span>

<span data-ttu-id="78d6c-113">部署应用时, 可以创建应用服务计划, 也可以继续将应用添加到现有计划中。</span><span class="sxs-lookup"><span data-stu-id="78d6c-113">When you deploy your apps, you can create an App Service plan or you can continue to add apps to an existing plan.</span></span>  <span data-ttu-id="78d6c-114">但是, 同一应用服务计划中的应用程序共享相同的计算资源。</span><span class="sxs-lookup"><span data-stu-id="78d6c-114">However, apps in the same App Service plan share the same compute resources.</span></span> <span data-ttu-id="78d6c-115">若要确定新应用程序是否具有必要的资源, 您需要了解现有应用服务计划的容量以及新应用程序的预期负载。</span><span class="sxs-lookup"><span data-stu-id="78d6c-115">To determine whether the new app has the necessary resources, you need to understand the capacity of the existing App Service plan, and the expected load for the new app.</span></span> <span data-ttu-id="78d6c-116">重载应用服务计划会导致新的和现有应用程序的性能下降或停机。</span><span class="sxs-lookup"><span data-stu-id="78d6c-116">Overloading an App Service plan can cause reduced performance or downtime for your new and existing apps.</span></span>

<span data-ttu-id="78d6c-117">您可以使用 PowerShell 或 azure CLI 在 azure 门户中提前定义应用服务计划, 或者在 Visual Studio 中发布应用程序时设置一个。</span><span class="sxs-lookup"><span data-stu-id="78d6c-117">You can define an App Service plan in advance in the Azure portal with PowerShell or the Azure CLI, or set one up as you publish your application in Visual Studio.</span></span>

<span data-ttu-id="78d6c-118">每个应用服务计划定义:</span><span class="sxs-lookup"><span data-stu-id="78d6c-118">Each App Service plan defines:</span></span>

- <span data-ttu-id="78d6c-119">地区 (美国西部、东、东部, 等等)</span><span class="sxs-lookup"><span data-stu-id="78d6c-119">Region (West US, East US, and so on)</span></span>
- <span data-ttu-id="78d6c-120">VM 实例数</span><span class="sxs-lookup"><span data-stu-id="78d6c-120">Number of VM instances</span></span>
- <span data-ttu-id="78d6c-121">VM 实例的大小 (小型、中型、大型)</span><span class="sxs-lookup"><span data-stu-id="78d6c-121">Size of VM instances (small, medium, large)</span></span>
- <span data-ttu-id="78d6c-122">定价层 (免费、共享、基本、Standard、premium、premium V2、独立)</span><span class="sxs-lookup"><span data-stu-id="78d6c-122">Pricing tier (Free, Shared, Basic, Standard, Premium, Premium V2, Isolated)</span></span>

## <a name="specify-the-region"></a><span data-ttu-id="78d6c-123">指定区域</span><span class="sxs-lookup"><span data-stu-id="78d6c-123">Specify the region</span></span>

<span data-ttu-id="78d6c-124">创建 App Service 计划时, 必须定义将托管该计划的区域或位置。</span><span class="sxs-lookup"><span data-stu-id="78d6c-124">When creating an App Service plan, you have to define a region or location where that plan will be hosted.</span></span> <span data-ttu-id="78d6c-125">通常情况下, 你可以选择地理位置接近预期客户的区域。</span><span class="sxs-lookup"><span data-stu-id="78d6c-125">Typically, you would choose a region geographically close to your expected customers.</span></span>

## <a name="what-are-the-pricing-and-reliability-levels"></a><span data-ttu-id="78d6c-126">定价和可靠性级别是什么？</span><span class="sxs-lookup"><span data-stu-id="78d6c-126">What are the pricing and reliability levels?</span></span>

<span data-ttu-id="78d6c-127">**共享计算**: "**免费**" 和 "**共享**", 这两个基本层在与其他应用服务应用程序 (包括其他客户的应用程序) 相同的 Azure VM 上运行应用程序。</span><span class="sxs-lookup"><span data-stu-id="78d6c-127">**Shared compute**: **Free** and **Shared**, the two base tiers, run an app on the same Azure VM as other App Service apps, including apps of other customers.</span></span> <span data-ttu-id="78d6c-128">这些层将 CPU 配额分配给在共享资源上运行的每个应用程序, 并且这些资源不能向外扩展。</span><span class="sxs-lookup"><span data-stu-id="78d6c-128">These tiers allocate CPU quotas to each app that runs on the shared resources, and the resources cannot scale out.</span></span>

<span data-ttu-id="78d6c-129">免费和共享计划最适用于具有非常有限的流量要求的小型个人项目, 每24小时设置限制为 165 MB 的出站数据。</span><span class="sxs-lookup"><span data-stu-id="78d6c-129">Free and Shared plans are best for small-scale personal projects with very limited traffic demands, with a set limit of 165 MB of outbound data every 24 hours.</span></span>

<span data-ttu-id="78d6c-130">**专用计算**: **Basic、Standard、premium 和 Premium V2**层在专用 Azure 虚拟机上运行应用程序。</span><span class="sxs-lookup"><span data-stu-id="78d6c-130">**Dedicated compute**: The **Basic, Standard, Premium, and Premium V2** tiers run apps on dedicated Azure VMs.</span></span> <span data-ttu-id="78d6c-131">只有同一应用服务计划中的应用程序共享相同的计算资源。</span><span class="sxs-lookup"><span data-stu-id="78d6c-131">Only apps in the same App Service plan share the same compute resources.</span></span> <span data-ttu-id="78d6c-132">层的级别越高, 向外扩展可使用的 VM 实例越多。</span><span class="sxs-lookup"><span data-stu-id="78d6c-132">The higher the tier, the more VM instances are available to you for scale out.</span></span>

<span data-ttu-id="78d6c-133">标准服务计划最适用于实时生产工作负载, 在这里将商业应用程序发布给客户。</span><span class="sxs-lookup"><span data-stu-id="78d6c-133">The Standard service plan is best suited for live production workloads, where you are publishing commercial applications to customers.</span></span>

<span data-ttu-id="78d6c-134">高级服务计划支持高容量的 web 应用, 您不希望使用专用 (独立) 计划的额外成本。</span><span class="sxs-lookup"><span data-stu-id="78d6c-134">The Premium service plans support high-capacity web apps where you do not want the additional costs of a dedicated (isolated) plan.</span></span>

<span data-ttu-id="78d6c-135">已**隔离**: 此层在专用 azure 虚拟网络上运行专用的 azure 虚拟机, 这将在对应用的计算隔离之上提供网络隔离。</span><span class="sxs-lookup"><span data-stu-id="78d6c-135">**Isolated**: This tier runs dedicated Azure VMs on dedicated Azure virtual networks, which provide network isolation on top of compute isolation to your apps.</span></span> <span data-ttu-id="78d6c-136">它提供了最大扩展功能。</span><span class="sxs-lookup"><span data-stu-id="78d6c-136">It provides the maximum scale-out capabilities.</span></span> <span data-ttu-id="78d6c-137">仅当您具有对最高级别的安全性和性能的特定要求时, 才可以选择独立的服务计划。</span><span class="sxs-lookup"><span data-stu-id="78d6c-137">You would only select an Isolated service plan when you have a specific requirement for the highest levels of security and performance.</span></span>

<span data-ttu-id="78d6c-138">在以下情况将您的应用程序隔离到新的应用服务计划:</span><span class="sxs-lookup"><span data-stu-id="78d6c-138">Isolate your app into a new App Service plan when:</span></span>

- <span data-ttu-id="78d6c-139">应用程序占用大量资源</span><span class="sxs-lookup"><span data-stu-id="78d6c-139">The app is resource-intensive</span></span>
- <span data-ttu-id="78d6c-140">您希望独立于现有计划中的其他应用扩展应用程序</span><span class="sxs-lookup"><span data-stu-id="78d6c-140">You want to scale the app independently from the other apps in the existing plan</span></span>
- <span data-ttu-id="78d6c-141">应用程序需要不同地理区域中的资源</span><span class="sxs-lookup"><span data-stu-id="78d6c-141">The app needs resources in a different geographical region</span></span>

<span data-ttu-id="78d6c-142">你的应用服务计划可在任何时候向上和向下扩展。</span><span class="sxs-lookup"><span data-stu-id="78d6c-142">Your App Service plan can be scaled up and down at any time.</span></span> <span data-ttu-id="78d6c-143">你可以在首次选择较小的定价层, 稍后在需要更多应用服务功能时进行扩展。</span><span class="sxs-lookup"><span data-stu-id="78d6c-143">You can choose a lower pricing tier at first and scale up later when you need more App Service features.</span></span>

## <a name="specify-the-resource-group"></a><span data-ttu-id="78d6c-144">指定资源组</span><span class="sxs-lookup"><span data-stu-id="78d6c-144">Specify the resource group</span></span>

<span data-ttu-id="78d6c-145">资源组是在其中部署和管理 Azure 资源 (如 web 应用程序、数据库和存储帐户) 的逻辑容器。</span><span class="sxs-lookup"><span data-stu-id="78d6c-145">A resource group is a logical container into which Azure resources like web apps, databases, and storage accounts are deployed and managed.</span></span> <span data-ttu-id="78d6c-146">它是一种用于组织资源以实现管理、监控和帐单的机制。</span><span class="sxs-lookup"><span data-stu-id="78d6c-146">It is a mechanism for organizing resources for the purpose of management, monitoring and billing.</span></span> <span data-ttu-id="78d6c-147">可以使用现有资源组, 也可以直接从 Visual Studio 中创建一个。</span><span class="sxs-lookup"><span data-stu-id="78d6c-147">You can use an existing resource group or create one directly from Visual Studio.</span></span>  
