你创建了一个网站, 并且想要将其部署到 Azure。 现在, 我们需要考虑使用哪种 Azure 服务来最大限度地支持我们的需求。 应用服务为您的应用程序提供高度可扩展、自我修补的 web 托管服务。

在这里, 我们将介绍如何使用 Visual Studio 将 ASP.NET 核心 web 应用程序发布到 Azure 应用服务计划。

## <a name="what-is-the-azure-app-service"></a>什么是 Azure 应用服务？

Azure 应用服务是一种用于承载 web 应用程序、REST api 和移动 backends 的服务。 应用程序服务支持在 .net 中编写的代码、.net Core、Java、Ruby、node.js、PHP 和 Python。 应用程序服务是大多数网站的理想选择, 尤其是在不需要对托管基础结构进行大量控制的情况下。

## <a name="what-is-the-app-service-plan"></a>什么是应用服务计划？

app Service plan 定义您的应用程序将使用的计算资源、这些资源所在的位置、规划可使用的其他资源数以及定价层。 这些计算资源类似于传统 web 托管中的服务器场。 可以将一个或多个应用程序配置为在相同的应用服务计划上运行。

部署应用时, 可以创建应用服务计划, 也可以继续将应用添加到现有计划中。  但是, 同一应用服务计划中的应用程序共享相同的计算资源。 若要确定新应用程序是否具有必要的资源, 您需要了解现有应用服务计划的容量以及新应用程序的预期负载。 重载应用服务计划会导致新的和现有应用程序的性能下降或停机。

您可以使用 PowerShell 或 azure CLI 在 azure 门户中提前定义应用服务计划, 或者在 Visual Studio 中发布应用程序时设置一个。

每个应用服务计划定义:

- 地区 (美国西部、东、东部, 等等)
- VM 实例数
- VM 实例的大小 (小型、中型、大型)
- 定价层 (免费、共享、基本、Standard、premium、premium V2、独立)

## <a name="specify-the-region"></a>指定区域

创建 App Service 计划时, 必须定义将托管该计划的区域或位置。 通常情况下, 你可以选择地理位置接近预期客户的区域。

## <a name="what-are-the-pricing-and-reliability-levels"></a>定价和可靠性级别是什么？

**共享计算**: "**免费**" 和 "**共享**", 这两个基本层在与其他应用服务应用程序 (包括其他客户的应用程序) 相同的 Azure VM 上运行应用程序。 这些层将 CPU 配额分配给在共享资源上运行的每个应用程序, 并且这些资源不能向外扩展。

免费和共享计划最适用于具有非常有限的流量要求的小型个人项目, 每24小时设置限制为 165 MB 的出站数据。

**专用计算**: **Basic、Standard、premium 和 Premium V2**层在专用 Azure 虚拟机上运行应用程序。 只有同一应用服务计划中的应用程序共享相同的计算资源。 层的级别越高, 向外扩展可使用的 VM 实例越多。

标准服务计划最适用于实时生产工作负载, 在这里将商业应用程序发布给客户。

高级服务计划支持高容量的 web 应用, 您不希望使用专用 (独立) 计划的额外成本。

已**隔离**: 此层在专用 azure 虚拟网络上运行专用的 azure 虚拟机, 这将在对应用的计算隔离之上提供网络隔离。 它提供了最大扩展功能。 仅当您具有对最高级别的安全性和性能的特定要求时, 才可以选择独立的服务计划。

在以下情况将您的应用程序隔离到新的应用服务计划:

- 应用程序占用大量资源
- 您希望独立于现有计划中的其他应用扩展应用程序
- 应用程序需要不同地理区域中的资源

你的应用服务计划可在任何时候向上和向下扩展。 你可以在首次选择较小的定价层, 稍后在需要更多应用服务功能时进行扩展。

## <a name="specify-the-resource-group"></a>指定资源组

资源组是在其中部署和管理 Azure 资源 (如 web 应用程序、数据库和存储帐户) 的逻辑容器。 它是一种用于组织资源以实现管理、监控和帐单的机制。 可以使用现有资源组, 也可以直接从 Visual Studio 中创建一个。  
