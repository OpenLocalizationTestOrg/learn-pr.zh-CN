假设您正在构建即时消息移动应用程序。 您的应用程序允许用户向特定用户定义组的所有成员发送邮件。 有一些需要存储的有关每个用户的数据, 如他们的用户名、电子邮件和密码。 因此, 您决定使用 SQL Server 为该信息创建关系数据库。 但是, 邮件本身需要能够快速发送和访问, 而关系数据库对于这种情况来说太慢了。

您决定为 Redis 创建 Azure 缓存, 因为它提供了多少优点。 **通过将只读数据与 Redis 模块进行缓存, 从优化 web 应用程序**中回调, Redis 缓存是一个可用作数据库、缓存或消息代理的内存中数据结构存储。

使用适用于 Redis 的 Azure 缓存, 可以使用事务来确保包含图片和文本的邮件一起发送。 使用数据过期重置组在一小时后聊天的名称。 最后, 使用逐出策略确保在内存不足时, 先删除最旧的邮件。

## <a name="learning-objectives"></a>学习目标

在本模块中, 您将:

- 将多个操作组合到一个事务中
- 设置数据的过期时间
- 管理内存不足的情况
- 使用旁缓存模式
- 在 .net Core 控制台应用程序中使用 Redis 程序包 ServiceStack