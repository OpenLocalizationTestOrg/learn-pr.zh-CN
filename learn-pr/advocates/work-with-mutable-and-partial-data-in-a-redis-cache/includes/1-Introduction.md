<span data-ttu-id="554f2-101">假设您正在构建即时消息移动应用程序。</span><span class="sxs-lookup"><span data-stu-id="554f2-101">Imagine you're building an instant messaging mobile application.</span></span> <span data-ttu-id="554f2-102">您的应用程序允许用户向特定用户定义组的所有成员发送邮件。</span><span class="sxs-lookup"><span data-stu-id="554f2-102">Your application allows users to send messages to all members of a specific user-defined group.</span></span> <span data-ttu-id="554f2-103">有一些需要存储的有关每个用户的数据, 如他们的用户名、电子邮件和密码。</span><span class="sxs-lookup"><span data-stu-id="554f2-103">There's some data that needs to be stored about each user, like their username, email, and password.</span></span> <span data-ttu-id="554f2-104">因此, 您决定使用 SQL Server 为该信息创建关系数据库。</span><span class="sxs-lookup"><span data-stu-id="554f2-104">So you decide to use SQL Server to create a relational database for that information.</span></span> <span data-ttu-id="554f2-105">但是, 邮件本身需要能够快速发送和访问, 而关系数据库对于这种情况来说太慢了。</span><span class="sxs-lookup"><span data-stu-id="554f2-105">However, the messages themselves need to be sent and accessed quickly and a relational database is too slow for that.</span></span>

<span data-ttu-id="554f2-106">您决定为 Redis 创建 Azure 缓存, 因为它提供了多少优点。</span><span class="sxs-lookup"><span data-stu-id="554f2-106">You decide to create an Azure Cache for Redis because of the number of benefits it provides.</span></span> <span data-ttu-id="554f2-107">**通过将只读数据与 Redis 模块进行缓存, 从优化 web 应用程序**中回调, Redis 缓存是一个可用作数据库、缓存或消息代理的内存中数据结构存储。</span><span class="sxs-lookup"><span data-stu-id="554f2-107">Recall from the **Optimize your web applications by caching read-only data with Redis** module that a Redis Cache is an in-memory data structure store that can be used as a database, cache or message broker.</span></span>

<span data-ttu-id="554f2-108">使用适用于 Redis 的 Azure 缓存, 可以使用事务来确保包含图片和文本的邮件一起发送。</span><span class="sxs-lookup"><span data-stu-id="554f2-108">With Azure Cache for Redis, you could use transactions to ensure a message with a picture and text are sent together.</span></span> <span data-ttu-id="554f2-109">使用数据过期重置组在一小时后聊天的名称。</span><span class="sxs-lookup"><span data-stu-id="554f2-109">Use data expiration to reset the name of the group chat after an hour.</span></span> <span data-ttu-id="554f2-110">最后, 使用逐出策略确保在内存不足时, 先删除最旧的邮件。</span><span class="sxs-lookup"><span data-stu-id="554f2-110">Finally, use eviction policies to make sure the oldest messages are being deleted first when you're running low on memory.</span></span>

## <a name="learning-objectives"></a><span data-ttu-id="554f2-111">学习目标</span><span class="sxs-lookup"><span data-stu-id="554f2-111">Learning objectives</span></span>

<span data-ttu-id="554f2-112">在本模块中, 您将:</span><span class="sxs-lookup"><span data-stu-id="554f2-112">In this module, you will:</span></span>

- <span data-ttu-id="554f2-113">将多个操作组合到一个事务中</span><span class="sxs-lookup"><span data-stu-id="554f2-113">Group multiple operations into a transaction</span></span>
- <span data-ttu-id="554f2-114">设置数据的过期时间</span><span class="sxs-lookup"><span data-stu-id="554f2-114">Set an expiration time on your data</span></span>
- <span data-ttu-id="554f2-115">管理内存不足的情况</span><span class="sxs-lookup"><span data-stu-id="554f2-115">Manage out-of-memory conditions</span></span>
- <span data-ttu-id="554f2-116">使用旁缓存模式</span><span class="sxs-lookup"><span data-stu-id="554f2-116">Use the cache-aside pattern</span></span>
- <span data-ttu-id="554f2-117">在 .net Core 控制台应用程序中使用 Redis 程序包 ServiceStack</span><span class="sxs-lookup"><span data-stu-id="554f2-117">Use the ServiceStack.Redis package in a .NET Core console application</span></span>