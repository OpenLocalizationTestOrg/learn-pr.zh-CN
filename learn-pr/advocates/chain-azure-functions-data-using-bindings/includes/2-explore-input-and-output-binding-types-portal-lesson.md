访问和处理数据是许多软件解决方案中的关键任务。 请考虑以下几种情况:

* 您已要求实现将传入数据从 Blob 存储移动到 Azure Cosmos DB 的方法。
* 您想要将传入的邮件发送到队列以供企业中的其他组件进行处理。
* 您的服务需要从队列中获取游戏者得分并更新联机记分板。

所有这些示例都是关于移动数据的。 数据源和目标与方案的不同之处, 但模式类似。 连接到数据源, 并读取和写入数据。 Azure 函数可帮助您使用绑定与数据和服务集成。 

## <a name="what-is-a-binding"></a>绑定是什么？

在 Azure 函数中, 绑定提供了从代码中连接到数据的声明性方式。 它们使在函数中一致地与数据流相集成变得更加容易。 可以有多个绑定提供对不同数据元素的访问。 此功能非常强大, 因为您可以连接到数据源, 而无需对特定连接逻辑 (如数据库连接或 web API 接口) 进行编码。

### <a name="types-of-bindings"></a>绑定类型

有两种类型的绑定可用于函数:

1. **输入绑定**输入绑定是与数据**源**的连接。 我们的函数可以从这些输入中读取数据。

1. **输出绑定**输出绑定是与数据**目标**的连接。 我们的函数可以将数据写入这些目标。

此外, 还有一些触发器。 触发器是导致函数执行的特殊类型的输入绑定。 例如, 可以将 Azure 事件网格通知配置为触发器。 事件发生时, 函数将运行。

### <a name="types-of-supported-bindings"></a>支持的绑定类型

绑定的*类型*定义了我们在读取或发送数据的位置。 有一个绑定可响应 web 请求, 并有大量的绑定可直接与各种 Azure 服务和第三方服务进行交互。

绑定类型可用作输入、输出或同时用作这两者。 例如, 函数可以写入 Azure Blob 存储输出绑定, 但 Blob 存储更新可能会触发另一个函数。

下面列出了一些常见的绑定类型:
- Blob 存储
- Azure 服务总线队列
- Azure Cosmos DB
- Azure 事件中心
- 外部文件
- 外部表
- HTTP 终结点

这些类型只是一个示例。 还有更多的 plus 函数具有可扩展性模型以添加更多绑定。

### <a name="binding-properties"></a>绑定属性

所有绑定中都需要三个属性。 您可能需要根据要使用的绑定和存储的类型提供其他属性。

1. **名称**定义用于访问数据的函数参数。 例如, 在队列输入绑定中, 这是接收队列消息内容的函数参数的名称。 

1. **类型**标识绑定的类型, 即要与之交互的数据或服务的类型。

1. **方向**指示数据的流动方向 (即, 它是否为输入或输出绑定)？

此外, 大多数绑定类型还需要第四个属性: 

4. **连接**提供包含连接字符串的应用设置密钥的名称。 绑定使用存储在应用程序设置中的连接字符串将机密信息保留在函数代码之外。 这将使您的代码更具可配置性和安全性。

## <a name="create-a-binding"></a>创建绑定

绑定是在 JSON 中定义的。 绑定是在函数的配置文件中配置的, 该文件命名为*函数 json*并与您的函数代码位于同一文件夹中。

 我们来看一下示例*输入绑定*:

```json
    ...
    {
      "name": "headshotBlob",
      "type": "blob",
      "path": "thumbnail-images/{filename}",
      "connection": "HeadshotStorageConnection",
      "direction": "in"
    },
    ...
```

若要创建此绑定, 我们需要:

1. 在*函数 json*文件中创建绑定。

1. 提供`name`变量的值。 在此示例中, 变量保存 blob 数据。

1. 提供存储空间`type`。 在上面的示例中, 我们使用的是 Blob 存储。

1. 提供`path`, 它指定容器以及其中的项名称。 blob `path`的属性是必需的。

1. 提供在`connection`应用程序的设置文件中定义的字符串设置名称。 它用作查找连接字符串以连接到存储帐户的键。

1. 将`direction`定义为`in`。 它读取 blob 中的数据。

绑定用于连接到函数中的数据。 在此示例中, 我们使用了输入绑定来将我们的函数作为缩略图处理的用户图像连接起来。
