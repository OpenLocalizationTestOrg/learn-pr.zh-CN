Lamna 医疗保健领域的临床医生对停机时间没有容限。 他们需要在时钟周围拥有临床 IT 系统的访问权限, 以确保他们始终提供最高质量的保护。 为满足临床医生的全天候要求, Lamna 医疗保健的应用程序必须能够处理故障, 对用户影响最小。 他们如何确保其应用程序在本地化的事件和大规模灾难中都能正常运行？

在这里, 我们将讨论如何在体系结构设计中加入可用性和可恢复性。

## <a name="availability-and-recoverability"></a>可用性和可恢复性

在复杂的应用程序中, 任何规模的操作都可能会出错。 单个服务器和硬盘驱动器可能会失败。 部署问题可能会无意中将所有表放入数据库中。 整个数据中心可能变得无法访问。 勒索软件事件可能会对您的所有数据进行恶意加密。

设计*可用性*重点是通过小规模的事件和临时条件 (如部分网络中断) 来维护正常运行时间。 您可以通过将高可用性集成到应用程序的每个组件中, 从而确保应用程序能够处理本地化的故障, 从而消除单点故障。 这样的设计还可以最大限度地减少基础结构维护的影响。 高可用性设计通常旨在消除事故对事件的影响, 并确保系统可以继续处理请求, 而不会产生任何影响。

针对可*恢复性*的设计侧重于从数据丢失和大规模灾难中恢复。 从这些事件类型恢复通常涉及到主动干预, 但自动恢复步骤可以缩短恢复所需的时间。 这些类型的事件可能导致一段时间的停机或永久丢失的数据。 灾难恢复就像关于执行过程那样仔细规划。

在体系结构设计中包括高可用性和可恢复性, 可防止业务因停机时间和丢失数据而导致的财务损失。 它们确保您的声誉不会受到客户的信任损失的负面影响。

## <a name="architecting-for-availability-and-recoverability"></a>架构的可用性和可恢复性

为可用性和可恢复性构建架构可确保您的应用程序能够满足您对客户所做的承诺。

若要获取可用性, 请确定要提交到的服务级别协议 (SLA)。 检查应用程序的潜在高可用性与您的 SLA 相关的功能, 并确定您的覆盖范围以及您需要进行改进的位置。 目标是将冗余添加到体系结构的组件中, 这样就不会出现中断中断的可能性。 高可用性设计组件的示例包括群集和负载平衡。 聚集将单个虚拟机替换为一组协调的虚拟机。 当一个 VM 失败或不可用时, 服务可以故障转移到另一个可为请求服务的服务器。 负载平衡跨服务的多个实例分布请求, 检测失败的实例并阻止将请求路由到这些实例。

对于可恢复性, 请执行分析以检查可能的数据丢失和重大停机情况。 分析应包括探索恢复策略和每个策略的成本效益权衡。 此练习将向您提供对组织的优先级的重要深入了解, 并帮助阐明您的应用程序的角色。 结果应包括应用程序的恢复点目标 (RPO) 和恢复时间目标 (RTO)。

* **恢复点目标**: 可接受数据丢失的最长持续时间。 RPO 以时间单位计量, 而不是按卷: "30 分钟的数据"、"四个小时的数据" 等。 RPO 是关于限制和恢复数据*丢失*, 而不是数据*泄露*。
* **恢复时间目标**: 可接受停机时间的最长持续时间, 其中 "停机时间" 需要由你的规范定义。 例如, 如果灾难发生时可接受的停机时间为8小时, 则 RTO 为8小时。

使用定义的 RPO 和 RTO, 可以在体系结构中设计备份、还原、复制和恢复功能, 以实现这些目标。

每个云提供程序都提供了一系列服务和功能, 可用于改进应用程序的可用性和可恢复性。 如果可能, 请使用现有服务和最佳做法, 并尝试抵御创建自己的操作。

硬盘可能发生故障, 数据中心可能无法访问, 并且黑客可能会受到攻击。 务必为使用可用性和可恢复性的客户保持良好的声誉。 可用性重点在于在网络中断的情况下维护正常运行时间, 而可恢复性侧重于在灾难发生后检索数据。
