您可以使用 sla 评估您的 Azure 解决方案如何满足业务要求以及客户端和用户的需求。 通过创建您自己的服务级别协议, 可以设置性能目标以适合您的特定 Azure 应用程序。  此方法称为 "*应用程序 SLA*"。

## <a name="understand-your-app-requirements"></a>了解您的应用程序要求
构建高效且可靠的 Azure 解决方案需要了解工作负载要求。  然后, 您可以选择 Azure 产品和服务, 并根据这些要求预配资源。 了解定义解决方案中的 azure 产品和服务的性能目标的 Azure sla 是非常重要的。  此了解将帮助您创建可实现的应用程序 sla。

在分布式系统中, 将发生故障。 硬件可能会失败。 网络可能会发生暂时故障。 整个服务或区域很少遇到中断, 但必须为此进行规划。

## <a name="resiliency"></a>功能
*复原*功能是系统从故障中恢复并继续运行的功能。 这并不是为了避免出现故障, 但以避免宕机或数据丢失的方式来响应故障。 恢复的目标是在出现故障后将应用程序返回到完全正常的状态。 高可用性和灾难恢复是恢复的两个关键组件。

设计体系结构时, 需要设计恢复能力, 并应执行*故障模式分析*(FMA)。 FMA 的目标是确定可能的故障点, 并定义应用程序将如何响应这些故障。

## <a name="cost-and-complexity-vs-high-availability"></a>成本和复杂性与高可用性
*可用性*是指系统正常运行的时间。 最大化可用性需要实施措施以防止可能出现的服务故障。  但是, 设计预防措施可能会非常困难且成本高昂, 并且通常会导致复杂的解决方案。

随着解决方案的复杂程度的增加, 您将拥有更多的服务 (具体取决于彼此)。  因此, 如果您有多个相互依赖的服务, 则您可能会在解决方案中忽略可能的故障点。

> [!TIP]
> 例如: 需要 99.99% 正常运行时间的工作负荷不应依赖于具有 99.9% SLA 的服务。

大多数提供商希望通过最小化停机最大限度地提高 Azure 解决方案的可用性。  但是, 在提高可用性的同时, 还会增加解决方案的成本和复杂性。

> [!TIP]
> 例如: 定义*99.99% 的正常运行时间的 SLA 仅允许每月的总停机时间约为5分钟。*

潜在故障时间的风险在不同 SLA 级别之间是累积的, 这意味着复杂的解决方案可能面临更大的可用性难题。  因此, 高可用性对您的要求的重要性将决定如何处理向应用程序 sla 添加复杂性和成本的方式。

## <a name="considerations-for-defining-application-slas"></a>定义应用程序 sla 的注意事项

- 如果应用程序 SLA 定义了四个 9 (99.99%)性能目标, 通过手动干预从故障中恢复可能不足以满足您的 SLA 要求。  您的 Azure 解决方案必须是自我诊断和自我修复。
- 很难快速响应故障, 以满足四个9的 SLA 性能目标。
- 仔细考虑评估应用程序 SLA 性能目标的时间窗口。  时间窗口越小, 公差越紧密。  如果将应用程序 SLA 定义为每小时或每日运行时间, 则需要了解这些更紧密的容差可能不允许实现性能目标。