<span data-ttu-id="1437f-101">如果与所有人共享, 则机密不是机密。</span><span class="sxs-lookup"><span data-stu-id="1437f-101">Secrets aren't secrets if they are shared with everyone.</span></span> <span data-ttu-id="1437f-102">在您的代码中存储机密项目 (如连接字符串、安全令牌、证书和密码) 只是邀请某人使用它们, 并将其用于除您所需的内容以外的其他内容。</span><span class="sxs-lookup"><span data-stu-id="1437f-102">Storing confidential items like connection strings, security tokens, certificates and passwords in your code is just inviting someone to take them and use them for something other than what you intended them for.</span></span> <span data-ttu-id="1437f-103">即使将此类数据存储在 web 配置中也是一项不好的做法, 您实际上是允许有权访问源代码或 web 服务器访问私有数据的任何人。</span><span class="sxs-lookup"><span data-stu-id="1437f-103">Even storing this sort of data in your web configuration is a bad idea - you are essentially allowing anyone who has access to the source code or web server access to your private data.</span></span>

<span data-ttu-id="1437f-104">相反, 应始终将这些机密放入**Azure Key Vault**。</span><span class="sxs-lookup"><span data-stu-id="1437f-104">Instead, you should always put these secrets into **Azure Key Vault**.</span></span>

## <a name="what-is-azure-key-vault"></a><span data-ttu-id="1437f-105">什么是 Azure 密钥存储库</span><span class="sxs-lookup"><span data-stu-id="1437f-105">What is Azure Key Vault</span></span>
<span data-ttu-id="1437f-106">Azure Key Vault 是一个*秘密存储*: 用于存储应用程序机密的集中云服务。</span><span class="sxs-lookup"><span data-stu-id="1437f-106">Azure Key Vault is a *secret store*: a centralized cloud service for storing application secrets.</span></span> <span data-ttu-id="1437f-107">密钥存储库通过将应用程序机密保存在一个中心位置并提供安全访问、权限控制和访问日志, 来保持机密数据的安全。</span><span class="sxs-lookup"><span data-stu-id="1437f-107">Key Vault keeps your confidential data safe by keeping application secrets in a single central location and providing secure access, permissions control, and access logging.</span></span>

<span data-ttu-id="1437f-108">密码存储在单独的*电子仓库*中, 每个都有各自的配置和安全策略来控制访问。</span><span class="sxs-lookup"><span data-stu-id="1437f-108">Secrets are stored in individual *vaults*, each with their own configuration and security policies to control access.</span></span> <span data-ttu-id="1437f-109">然后, 您可以通过 REST API 或大多数语言可用的客户端 SDK 获取数据。</span><span class="sxs-lookup"><span data-stu-id="1437f-109">You can then get to your data through a REST API, or through a client SDK available for most languages.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="1437f-110">**密钥存储库旨在存储服务器应用程序的配置机密。**</span><span class="sxs-lookup"><span data-stu-id="1437f-110">**Key Vault is designed to store configuration secrets for server applications.**</span></span> <span data-ttu-id="1437f-111">它不用于存储属于您的应用程序用户的数据, 也不应在应用程序的客户端部分中使用。</span><span class="sxs-lookup"><span data-stu-id="1437f-111">It's not intended for storing data belonging to your app's users, and it shouldn't be used in the client-side part of an app.</span></span> <span data-ttu-id="1437f-112">这在其性能特征、API 和成本模型中反映出来。</span><span class="sxs-lookup"><span data-stu-id="1437f-112">This is reflected in its performance characteristics, API, and cost model.</span></span>
>
> <span data-ttu-id="1437f-113">用户数据应存储在其他位置, 如在具有透明数据加密的 Azure SQL 数据库中, 或存储服务加密的存储帐户。</span><span class="sxs-lookup"><span data-stu-id="1437f-113">User data should be stored elsewhere, such as in an Azure SQL database with Transparent Data Encryption, or a storage account with Storage Service Encryption.</span></span> <span data-ttu-id="1437f-114">您的应用程序用来访问这些数据存储区的机密可以保留在密钥保管库中。</span><span class="sxs-lookup"><span data-stu-id="1437f-114">Secrets used by your application to access those data stores can be kept in Key Vault.</span></span>

## <a name="why-use-a-key-vault-for-my-secrets"></a><span data-ttu-id="1437f-115">为什么要将密钥保管库用于我的机密</span><span class="sxs-lookup"><span data-stu-id="1437f-115">Why use a Key Vault for my secrets</span></span>

<span data-ttu-id="1437f-116">手动执行时, 密钥管理和存储机密可能会非常复杂且容易出错。</span><span class="sxs-lookup"><span data-stu-id="1437f-116">Key management and storing secrets can be complicated and error-prone when performed manually.</span></span> <span data-ttu-id="1437f-117">手动轮换证书意味着可能在不到几个小时或数天的情况下继续进行。</span><span class="sxs-lookup"><span data-stu-id="1437f-117">Rotating certificates manually means potentially going without for a few hours, or days.</span></span> <span data-ttu-id="1437f-118">如上所述, 将连接字符串保存在配置文件或代码库中意味着某人可能会窃取你的凭据。</span><span class="sxs-lookup"><span data-stu-id="1437f-118">As mentioned above, saving your connections strings in your configuration file or code repository means someone could steal your credentials.</span></span>

<span data-ttu-id="1437f-119">密钥存储库允许用户存储连接字符串、密码、密码、证书、访问策略、文件锁定 (使 Azure 中的项目成为只读的) 和自动化脚本。</span><span class="sxs-lookup"><span data-stu-id="1437f-119">Key Vault allows users to store connection strings, secrets, passwords, certificates, access policies, file locks (making items in Azure read-only), and automation scripts.</span></span>  <span data-ttu-id="1437f-120">此外, 它还记录访问和活动, 使您可以监视订阅中的访问控制 (IAM), 此外还提供了诊断、指标、警报和故障排除工具, 以确保您具有所需的访问权限。</span><span class="sxs-lookup"><span data-stu-id="1437f-120">It also logs access and activity, allows you to monitor access control (IAM) in your subscription, and it also has diagnostic, metrics, alerts and troubleshooting tools, to ensure you have the access you need.</span></span>

<span data-ttu-id="1437f-121">了解有关使用 azure key vault 的详细信息, 请参阅在[使用 azure key vault 的服务器应用程序中管理密码](/learn/modules/manage-secrets-with-azure-key-vault/)。</span><span class="sxs-lookup"><span data-stu-id="1437f-121">Learn more about using an Azure Key Vault in [Manage secrets in your server apps with Azure Key Vault](/learn/modules/manage-secrets-with-azure-key-vault/).</span></span>

## <a name="summary"></a><span data-ttu-id="1437f-122">摘要</span><span class="sxs-lookup"><span data-stu-id="1437f-122">Summary</span></span>

<span data-ttu-id="1437f-123">凭据盗用、手动密钥轮替和证书续订可以成为过去的事情, 如果你使用 Azure key Vault 来管理你的机密, 则是如此。</span><span class="sxs-lookup"><span data-stu-id="1437f-123">Credential theft, manual key rotation and certificate renewal can be a thing of the past if you manage your secrets well, using Azure Key Vault.</span></span>
