如果与所有人共享, 则机密不是机密。 在您的代码中存储机密项目 (如连接字符串、安全令牌、证书和密码) 只是邀请某人使用它们, 并将其用于除您所需的内容以外的其他内容。 即使将此类数据存储在 web 配置中也是一项不好的做法, 您实际上是允许有权访问源代码或 web 服务器访问私有数据的任何人。

相反, 应始终将这些机密放入**Azure Key Vault**。

## <a name="what-is-azure-key-vault"></a>什么是 Azure 密钥存储库
Azure Key Vault 是一个*秘密存储*: 用于存储应用程序机密的集中云服务。 密钥存储库通过将应用程序机密保存在一个中心位置并提供安全访问、权限控制和访问日志, 来保持机密数据的安全。

密码存储在单独的*电子仓库*中, 每个都有各自的配置和安全策略来控制访问。 然后, 您可以通过 REST API 或大多数语言可用的客户端 SDK 获取数据。

> [!IMPORTANT]
> **密钥存储库旨在存储服务器应用程序的配置机密。** 它不用于存储属于您的应用程序用户的数据, 也不应在应用程序的客户端部分中使用。 这在其性能特征、API 和成本模型中反映出来。
>
> 用户数据应存储在其他位置, 如在具有透明数据加密的 Azure SQL 数据库中, 或存储服务加密的存储帐户。 您的应用程序用来访问这些数据存储区的机密可以保留在密钥保管库中。

## <a name="why-use-a-key-vault-for-my-secrets"></a>为什么要将密钥保管库用于我的机密

手动执行时, 密钥管理和存储机密可能会非常复杂且容易出错。 手动轮换证书意味着可能在不到几个小时或数天的情况下继续进行。 如上所述, 将连接字符串保存在配置文件或代码库中意味着某人可能会窃取你的凭据。

密钥存储库允许用户存储连接字符串、密码、密码、证书、访问策略、文件锁定 (使 Azure 中的项目成为只读的) 和自动化脚本。  此外, 它还记录访问和活动, 使您可以监视订阅中的访问控制 (IAM), 此外还提供了诊断、指标、警报和故障排除工具, 以确保您具有所需的访问权限。

了解有关使用 azure key vault 的详细信息, 请参阅在[使用 azure key vault 的服务器应用程序中管理密码](/learn/modules/manage-secrets-with-azure-key-vault/)。

## <a name="summary"></a>摘要

凭据盗用、手动密钥轮替和证书续订可以成为过去的事情, 如果你使用 Azure key Vault 来管理你的机密, 则是如此。
