<span data-ttu-id="5ff1e-101">许多开发人员考虑使用框架和库来构建其软件, 主要由功能或个人首选项决定。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-101">Many developers consider the frameworks and libraries they use to build their software with to be primarily decided by features or personal preference.</span></span> <span data-ttu-id="5ff1e-102">但是, 您选择的框架是一项重要决定, 而不仅仅是从设计和功能角度进行, 也可以从_安全_角度进行。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-102">However, the framework that you choose is an important decision, not only from a design and functionality perspective but also from a _security_ perspective.</span></span> <span data-ttu-id="5ff1e-103">选择具有新式安全功能的框架并将其保持最新状态是确保您的应用程序安全的最佳方式之一。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-103">Choosing a framework with modern security features and keeping it up to date is one of the best ways to ensure your apps are secure.</span></span>

## <a name="choose-your-framework-carefully"></a><span data-ttu-id="5ff1e-104">仔细选择框架</span><span class="sxs-lookup"><span data-stu-id="5ff1e-104">Choose your framework carefully</span></span>

<span data-ttu-id="5ff1e-105">选择框架时, 有关安全性的最重要因素是它支持的程度。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-105">The most important factor regarding security when choosing a framework is how well supported it is.</span></span> <span data-ttu-id="5ff1e-106">最佳框架具有规定的安全排列, 并受大型社区 (改进和测试框架) 的支持。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-106">The best frameworks have stated security arrangements and are supported by large communities who improve and test the framework.</span></span> <span data-ttu-id="5ff1e-107">任何软件都不是 100% 的缺陷, 也不是完全安全, 但如果发现了一个安全漏洞, 我们想要确保它将被关闭或具有快速提供的解决方法。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-107">No software is 100% bug-free or totally secure, but when a vulnerability is identified, we want to be certain that it will be closed or have a workaround provided quickly.</span></span>

<span data-ttu-id="5ff1e-108">通常, "很受支持" 的意思是 "新式"。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-108">Often "well supported" is synonymous with "modern".</span></span> <span data-ttu-id="5ff1e-109">较旧的框架通常要替换或最终渐隐为热门程度。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-109">Older frameworks tend to either be replaced or eventually fade in popularity.</span></span> <span data-ttu-id="5ff1e-110">即使您对较旧框架的 (或多个应用程序) 具有极大的体验, 你也可以更好地选择具有所需功能的新式库。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-110">Even if you have significant experience with (or many apps written in) an older framework, you'll be better off choosing a modern library that has the features you need.</span></span> <span data-ttu-id="5ff1e-111">新式框架通常在以前的迭代中学习的教训上构建, 这使为新应用程序选择它们的形式是威胁面降低的形式。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-111">Modern frameworks tend to build on the lessons learned by earlier iterations which makes choosing them for new apps a form of threat surface reduction.</span></span> <span data-ttu-id="5ff1e-112">如果在旧版应用程序的旧框架中发现了漏洞, 你将需要考虑一个更多的应用程序。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-112">You will have one more app to worry about if a vulnerability is discovered in the older framework that your legacy applications are written in.</span></span>

<span data-ttu-id="5ff1e-113">若要详细了解如何安全设计和减少威胁图面, 请参阅[在 Azure 中设计安全性](/learn/azure/design-for-security-in-azure/index.yml)。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-113">For more information on secure design and reducing threat surface, see [Design For Security in Azure](/learn/azure/design-for-security-in-azure/index.yml).</span></span>

## <a name="keep-your-framework-updated"></a><span data-ttu-id="5ff1e-114">保持框架更新</span><span class="sxs-lookup"><span data-stu-id="5ff1e-114">Keep your framework updated</span></span>

<span data-ttu-id="5ff1e-115">软件开发框架 (如 Java 春季和 .net Core release 更新和新版本) 将定期更新。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-115">Software development frameworks, such as Java Spring and .NET Core release updates and new versions regularly.</span></span> <span data-ttu-id="5ff1e-116">这些更新包括新功能、旧功能的删除以及安全修补程序或改进。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-116">These updates include new features, removal of old features, and often security fixes or improvements.</span></span> <span data-ttu-id="5ff1e-117">当我们允许我们的框架过期时, 它会创建 "技术债务"。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-117">When we allow our frameworks to become out of date, it creates "technical debt".</span></span> <span data-ttu-id="5ff1e-118">我们获取的时间越早, 就越难和 riskier 将代码带到最新版本。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-118">The further out of date we get, the harder and riskier it will be to bring our code up to the latest version.</span></span> <span data-ttu-id="5ff1e-119">此外, 与最初的框架选择非常相似, 在旧版本的框架中保持较旧版本, 使您能够在更高版本的 framework 中修复更多安全威胁。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-119">In addition, much like the initial framework choice, staying on older versions of the framework open you up to more security threats which have been fixed in newer releases of the framework.</span></span>

<span data-ttu-id="5ff1e-120">在 Apache Struts 框架中, 从2016-2017 到[30 个漏洞](https://www.cvedetails.com/product/6117/Apache-Struts.html?vendor_id=45)的示例。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-120">As an example, from 2016-2017, [over 30 vulnerabilities](https://www.cvedetails.com/product/6117/Apache-Struts.html?vendor_id=45) were found in the Apache Struts framework.</span></span> <span data-ttu-id="5ff1e-121">开发团队快速解决这些问题, 但有些公司未应用修补程序并[以数据泄露的形式支付价格](https://www.zdnet.com/article/equifax-confirms-apache-struts-flaw-it-failed-to-patch-was-to-blame-for-data-breach/)。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-121">These were quickly addressed by the development team, but some companies didn't apply the patches and [paid the price in the form of a data breach](https://www.zdnet.com/article/equifax-confirms-apache-struts-flaw-it-failed-to-patch-was-to-blame-for-data-breach/).</span></span> <span data-ttu-id="5ff1e-122">**确保将您的框架和库保持最**新状态。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-122">**Make sure to keep your frameworks and libraries up to date**.</span></span>

### <a name="how-do-i-update-my-framework"></a><span data-ttu-id="5ff1e-123">如何更新我的框架？</span><span class="sxs-lookup"><span data-stu-id="5ff1e-123">How do I update my framework?</span></span>

<span data-ttu-id="5ff1e-124">某些框架 (如 Java 或 .net) 需要安装并倾向于在已知节奏上发布。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-124">Some frameworks, like Java or .NET, require an install and tend to release on a known cadence.</span></span> <span data-ttu-id="5ff1e-125">最好查看新版本, 并计划让代码的分支在发布时尝试使用它。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-125">It's a good idea to watch for new releases and plan to make a branch of your code to try it out when it's released.</span></span> <span data-ttu-id="5ff1e-126">举例来说, .net Core 维护了一个[发布说明页面](https://github.com/dotnet/core/tree/master/release-notes), 您可以查看该页面以查找可用的最新版本。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-126">As an example, .NET Core maintains a [release notes page](https://github.com/dotnet/core/tree/master/release-notes) which you can check to find the latest versions available.</span></span>

<span data-ttu-id="5ff1e-127">更多专门化的库 (如 JavaScript 框架) 或 .net 组件可以通过程序包管理器进行更新。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-127">More specialized libraries such as JavaScript frameworks, or .NET components can be updated through a package manager.</span></span> <span data-ttu-id="5ff1e-128">**NPM**和**Webpack**是 web 项目的常用选项, 大多数 ide 或生成工具都支持这些选项。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-128">**NPM** and **Webpack** are popular choices for web projects and are supported by most IDEs or build tools.</span></span> <span data-ttu-id="5ff1e-129">在 .net 中, 我们使用**NuGet**管理组件依赖项。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-129">In .NET, we use **NuGet** to manage our component dependencies.</span></span> <span data-ttu-id="5ff1e-130">与更新核心框架一样, 对代码进行分支、更新组件和测试是验证依赖项的新版本的一种很棒的技术。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-130">Much like updating the core framework, branching your code, updating the components and testing is a good technique to validate a new version of a dependency.</span></span>

> [!NOTE]
> <span data-ttu-id="5ff1e-131">命令行工具有一个`add package`和选项可`remove package`用于添加或删除 NuGet 包, 但不具有相应`update package`的命令。 `dotnet`</span><span class="sxs-lookup"><span data-stu-id="5ff1e-131">The `dotnet` command-line tool has an `add package` and `remove package` option to add or remove NuGet packages but doesn't have a corresponding `update package` command.</span></span> <span data-ttu-id="5ff1e-132">但是, 它可以在您的项目`dotnet add package <package-name>`中运行, 它会自动将包_升级_到最新版本。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-132">However, it turns out you can run `dotnet add package <package-name>` in your project and it will automatically _upgrade_ the package to the latest version.</span></span> <span data-ttu-id="5ff1e-133">这是更新依赖项而无需打开 IDE 的简单方法。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-133">This is an easy way to update dependencies without having to open the IDE.</span></span>

## <a name="take-advantage-of-built-in-security"></a><span data-ttu-id="5ff1e-134">充分利用内置安全性</span><span class="sxs-lookup"><span data-stu-id="5ff1e-134">Take advantage of built-in security</span></span>

<span data-ttu-id="5ff1e-135">请始终检查以了解您的框架提供了哪些安全功能。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-135">Always check to see what security features your frameworks offer.</span></span> <span data-ttu-id="5ff1e-136">如果有内置的标准技术或功能,**决不**要汇总自己的安全性。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-136">**Never** roll your own security if there's a standard technique or capability built in.</span></span> <span data-ttu-id="5ff1e-137">此外, 依靠经验证的算法和工作流, 因为许多专家、critiqued 和强化都经常对这些算法和工作流进行了仔细审查, 因此您可以确信它们是可靠且安全的。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-137">In addition, rely on proven algorithms and workflows because these have often been scrutinized by a lot of experts, critiqued and strengthened so you can be assured that they are reliable and secure.</span></span>

<span data-ttu-id="5ff1e-138">.net Core framework 具有无数个安全功能, 下面是文档中的几个核心起始位置。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-138">The .NET Core framework has countless security features, here are a few core starting places in the documentation.</span></span>
* [<span data-ttu-id="5ff1e-139">身份验证-身份管理</span><span class="sxs-lookup"><span data-stu-id="5ff1e-139">Authentication -Identity Management</span></span>](https://docs.microsoft.com/aspnet/core/security/authentication/index?view=aspnetcore-2.1)
* [<span data-ttu-id="5ff1e-140">批准</span><span class="sxs-lookup"><span data-stu-id="5ff1e-140">Authorization</span></span>](https://docs.microsoft.com/aspnet/core/security/authorization/index?view=aspnetcore-2.1)
* [<span data-ttu-id="5ff1e-141">数据保护</span><span class="sxs-lookup"><span data-stu-id="5ff1e-141">Data Protection</span></span>](https://docs.microsoft.com/aspnet/core/security/data-protection/index?view=aspnetcore-2.1)
* [<span data-ttu-id="5ff1e-142">安全配置</span><span class="sxs-lookup"><span data-stu-id="5ff1e-142">Secure Configuration</span></span>](https://docs.microsoft.com/aspnet/core/security/data-protection/configuration/index?view=aspnetcore-2.1)
* [<span data-ttu-id="5ff1e-143">安全扩展性 api</span><span class="sxs-lookup"><span data-stu-id="5ff1e-143">Security Extensibility APIs</span></span>](https://docs.microsoft.com/aspnet/core/security/data-protection/extensibility/index?view=aspnetcore-2.1)

<span data-ttu-id="5ff1e-144">这些功能中的每一项都是由专家在其字段中编写的, 然后 battered 使用测试来确保其按预期方式工作, 并且仅按预期工作。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-144">Each one of these features was written by experts in their field, and then battered with tests to ensure that it works as intended, and only as intended.</span></span> <span data-ttu-id="5ff1e-145">其他框架提供了类似的功能-请与提供框架的供应商联系, 以找出它们在每个类别中所具有的功能。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-145">Other frameworks offer similar features - check with the vendor that provides the framework to find out what they have in each category.</span></span>

> [!WARNING]
> <span data-ttu-id="5ff1e-146">编写您自己的安全控件 (而不是使用框架提供的控件) 不仅浪费时间, 而且安全性较差。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-146">Writing your own security controls, instead of using those provided by your framework, is not only wasting time, it's less secure.</span></span>


## <a name="azure-security-center"></a><span data-ttu-id="5ff1e-147">Azure 安全中心</span><span class="sxs-lookup"><span data-stu-id="5ff1e-147">Azure Security Center</span></span>

<span data-ttu-id="5ff1e-148">使用 Azure 托管你的 web 应用程序时, 安全中心会在你的 framework 已过期时向你发出警告, 作为 "建议" 选项卡的一部分。 不要忘记在这里看, 看看是否有与你的应用有关的警告。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-148">When using Azure to host your web applications Security Center will warn you if your frameworks are out of date as part of the recommendations tab.  Don't forget to look there from time to time to see if there are any warnings related to your apps.</span></span>

![Azure 安全中心推荐了框架升级。](../media/5-ASCFramework.png)


## <a name="summary"></a><span data-ttu-id="5ff1e-150">摘要</span><span class="sxs-lookup"><span data-stu-id="5ff1e-150">Summary</span></span>

<span data-ttu-id="5ff1e-151">只要有可能, 请选择一个新式框架来构建您的应用程序, 始终使用内置安全功能, 并确保使其保持最新。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-151">Whenever possible, choose a modern framework to build your apps, always use the built-in security features, and make sure you keep it up to date.</span></span> <span data-ttu-id="5ff1e-152">这些简单的规则将有助于确保应用程序以坚实的基础启动。</span><span class="sxs-lookup"><span data-stu-id="5ff1e-152">These simple rules will help to ensure your application starts on a solid foundation.</span></span>
