假设您需要在 Azure 中管理对开发、工程和市场营销团队的资源的访问。 您已开始接收访问请求, 您需要快速了解 access management 对 Azure 资源的工作方式。

## <a name="what-is-rbac"></a>RBAC 是什么？

基于角色的访问控制 (RBAC) 是一种基于 azure 资源管理器构建的授权系统, 可提供对 azure 中资源的细化访问管理。 Azure 有大量资源, 但有几个示例包括虚拟机、网站、网络和存储。

#### <a name="what-is-role-based-access-control"></a>什么是基于角色的访问控制？

> [!VIDEO https://www.microsoft.com/videoplayer/embed/RE2yEvk]

## <a name="what-can-i-do-with-rbac"></a>我可以使用 RBAC 执行哪些操作？

RBAC 允许你授予对你控制的 Azure 资源的访问权限。

下面是一些示例:

- 允许一个用户管理订阅中的虚拟机和另一个用户来管理虚拟网络
- 允许数据库管理员组在订阅中管理 SQL 数据库
- 允许用户管理资源组中的所有资源, 如虚拟机、网站和子网
- 允许应用程序访问资源组中的所有资源

## <a name="rbac-in-the-azure-portal"></a>Azure 门户中的 RBAC

在 Azure 门户的多个区域中, 你将看到一个名为 "**访问控制 (IAM)**" 的刀片, 也称为 "标识和访问管理"。 在此刀片式服务器上, 您可以看到谁有权访问该区域及其角色。 使用这一相同的刀片, 可以授予或删除访问权限。

下面显示了资源组的访问控制 (IAM) 边栏示例。 在此示例中, 已为 Alain Charon 分配了此资源组的备份操作员角色。

![显示具有 "备份操作员" 部分的 "访问控制角色分配" 边栏选项卡的 Azure 门户屏幕截图](../media/2-resource-group-access-control.png)

## <a name="how-does-rbac-work"></a>RBAC 的工作原理是什么？

您可以通过创建角色分配 (它控制如何强制实施权限), 使用 RBAC 控制对资源的访问。 若要创建角色分配, 需要三个元素: 安全主体、角色定义和作用域。 可以将这些元素视为 "用户"、"内容" 和 "位置"。

### <a name="1-security-principal-who"></a>1. 安全主体 (用户)

*安全主体*只是要向其授予访问权限的用户、组或应用程序的别致名称。

![显示安全主体 (包括用户、组和服务主体) 的说明。](../media/2-rbac-security-principal.png)

### <a name="2-role-definition-what-you-can-do"></a>2. 角色定义 (您可以执行的操作)

*角色定义*是权限的集合。 有时, 它只是称为角色。 角色定义列出了可以执行的权限, 如读取、写入和删除。 角色可以是高级别的, 如所有者或特定的, 如虚拟机参与者。

![图中列出了不同的内置角色和自定义角色, 并在参与者角色的定义上进行了放大。](../media/2-rbac-role-definition.png)

Azure 包括几个您可以使用的内置角色。 下面列出了四个基本的内置角色:

- Owner-具有对所有资源的完全访问权限, 包括向他人委派访问权限的权限。
- 投稿人-可以创建和管理所有类型的 Azure 资源, 但不能向其他人授予访问权限。
- Reader-可以查看现有 Azure 资源。
- 用户访问管理员-允许您管理对 Azure 资源的用户访问。

如果内置角色无法满足组织的特定需求, 您可以创建自己的自定义角色。

### <a name="3-scope-where"></a>3. Scope (其中)

*作用域*是指应用访问的位置。 如果您想让某人成为网站参与者, 但只针对一个资源组, 这将非常有用。

在 Azure 中, 可以在多个级别指定作用域: 管理组、订阅、资源组或资源。 作用域在父-子关系中的结构。 当您在父作用域中授予访问权限时, 这些权限将由子作用域继承。 例如, 如果在订阅范围将参与者角色分配给一个组, 则该角色将由订阅中的所有资源组和资源继承。

![图中显示了要应用范围的不同 Azure 级别的层次结构表示形式。 层次结构 (从最高级别开始) 按以下顺序进行: 管理组、订阅、资源组和资源。](../media/2-rbac-scope.png)

### <a name="role-assignment"></a>角色分配

确定了用户、内容和位置之后, 可以将这些元素组合在一起, 以授予访问权限。 *角色分配*是将角色绑定到特定作用域上的安全主体的过程, 目的是为了授予访问权限。 若要授予访问权限, 请创建角色分配。 若要撤消访问权限, 请删除角色分配。

下面的示例演示如何为市场营销组分配 "销售资源" 组作用域的 "参与者" 角色。

![该图显示了市场营销组的示例角色分配过程, 它是安全主体、角色定义和范围的组合。 市场营销组位于组安全主体下, 并具有为资源组作用域分配的参与者角色。](../media/2-rbac-overview.png)

## <a name="rbac-is-an-allow-model"></a>RBAC 是允许模型

RBAC 是一个允许模型。 这意味着, 在分配角色时, RBAC 允许您执行某些操作, 例如读取、写入或删除。 因此, 如果一个角色分配授予您对资源组的读取权限, 而另一个角色分配授予您对同一资源组的写入权限, 则您将拥有对该资源组的写入权限。

RBAC 有一些称为`NotActions` "权限" 的内容。 `NotActions`不是拒绝规则–它只是在需要排除特定权限时创建一组允许的权限的简便方法。

在此单元中, 你学习了 RBAC 的工作原理的基础知识。 现在, 您已经了解了 RBAC 基础知识, 您可以通过开始使用 rbac 来获得您的手脏。 开始使用的最简单的方法是使用 Azure 门户。 本模块的其余部分将为你执行与 RBAC 相关的实践练习。