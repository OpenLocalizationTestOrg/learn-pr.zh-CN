<span data-ttu-id="1f235-101">新式应用程序通常包含多个部件, 它们在位于世界各地的不同计算机和设备上运行。</span><span class="sxs-lookup"><span data-stu-id="1f235-101">Modern applications frequently consist of multiple parts running on separate computers and devices, which are in locations around the world.</span></span> <span data-ttu-id="1f235-102">在这些组件之间存在具有不同可靠性和速度的复杂网络。</span><span class="sxs-lookup"><span data-stu-id="1f235-102">Complex networks with varying reliability and speed exist between these components.</span></span> <span data-ttu-id="1f235-103">这些分布式应用程序的一个基本挑战是如何在组件之间进行可靠的通信。</span><span class="sxs-lookup"><span data-stu-id="1f235-103">A fundamental challenge with these distributed applications is how to communicate reliably between the components.</span></span>

<span data-ttu-id="1f235-104">假设您是 Contoso 扇面 (一个全球比萨饼传递链) 的云开发人员。</span><span class="sxs-lookup"><span data-stu-id="1f235-104">Suppose you are a cloud developer for Contoso Slices, a global pizza delivery chain.</span></span> <span data-ttu-id="1f235-105">你的雇主正在升级其技术, 以便用户可以从 web 或其移动应用中放置订单。</span><span class="sxs-lookup"><span data-stu-id="1f235-105">Your employer is upgrading their technology so that users can place orders from the web or their mobile apps.</span></span> <span data-ttu-id="1f235-106">这些订单将被发送到用户的首选店面位置, 在这里, 员工将进行比萨饼。</span><span class="sxs-lookup"><span data-stu-id="1f235-106">Those orders will be sent to the user's preferred storefront location, where employees will make the pizza.</span></span> <span data-ttu-id="1f235-107">随着 dough 的推出, 在 oven 中将比萨饼放在中, 并将其放在传递工具上, 将更新发送到用户的移动应用程序。</span><span class="sxs-lookup"><span data-stu-id="1f235-107">As the dough is rolled out, pizza put in oven, boxed, and put on a delivery vehicle, updates are sent to the user's mobile app.</span></span> <span data-ttu-id="1f235-108">用户甚至接收位置都会随着交付驱动程序头的临近而更新。</span><span class="sxs-lookup"><span data-stu-id="1f235-108">The users even receive location updates as the delivery driver heads toward them.</span></span>

<span data-ttu-id="1f235-109">Contoso 切片之前创建了一个在线排序系统, 可立即将订单数据存储在 SQL Server 数据库中。</span><span class="sxs-lookup"><span data-stu-id="1f235-109">Contoso Slices previously created an online ordering system that immediately stored order data in a SQL Server database.</span></span> <span data-ttu-id="1f235-110">每个存储必须记住手动刷新 "web 订单" 页, 以查明他们是否有新的订单。</span><span class="sxs-lookup"><span data-stu-id="1f235-110">Each store had to remember to manually refresh the "web orders" page to find out if they had new orders.</span></span> <span data-ttu-id="1f235-111">此外, 在高峰期 (如 televised 体育活动) 中, 系统经常会出现死锁异常和超时。</span><span class="sxs-lookup"><span data-stu-id="1f235-111">In addition, during peak pizza times, such as televised sporting events, the system would frequently get deadlock exceptions and timeouts.</span></span> <span data-ttu-id="1f235-112">最后, 上一个系统缺少中央付款处理或用户的任何类型的状态更新。</span><span class="sxs-lookup"><span data-stu-id="1f235-112">Finally, the previous system lacked central payment processing or any kind of status updates for the user.</span></span>

<span data-ttu-id="1f235-113">对于此新的、更更具挑战性的项目, Contoso 已雇用云架构师并计划使用分离的体系结构。</span><span class="sxs-lookup"><span data-stu-id="1f235-113">For this new, more ambitious project, Contoso has hired a cloud architect and plans to use a decoupled architecture.</span></span>

<span data-ttu-id="1f235-114">在本模块中, 我们将了解 Azure 服务总线如何帮助构建在高峰需求期间保持可靠的应用程序。</span><span class="sxs-lookup"><span data-stu-id="1f235-114">In this module, we'll learn how Azure Service Bus can help build an application that stays reliable during peak demand.</span></span> <span data-ttu-id="1f235-115">此外, 我们还将了解 Azure 服务总线如何轻松地向我们的应用程序添加功能。</span><span class="sxs-lookup"><span data-stu-id="1f235-115">We'll also see how Azure Service Bus make it easy to add functionality to our applications.</span></span> <span data-ttu-id="1f235-116">同时, 我们将编写必要的 c # 代码以使这些课程能够正常运行。</span><span class="sxs-lookup"><span data-stu-id="1f235-116">Along the way, we'll be writing the C# code necessary to put these lessons to work.</span></span> <span data-ttu-id="1f235-117">在这里, 你将了解如何在分布式体系结构中使用 Azure 服务总线主题和队列, 以确保即使在高需求的时候也能进行可靠的通信。</span><span class="sxs-lookup"><span data-stu-id="1f235-117">Here, you will see how to use Azure Service Bus topics and queues in a distributed architecture to ensure reliable communications even at times of high demand.</span></span> <span data-ttu-id="1f235-118">此外, 还将编写通过服务总线进行通信的 c # 代码。</span><span class="sxs-lookup"><span data-stu-id="1f235-118">You will also write C# code that communicates through Service Bus.</span></span>

## <a name="learning-objectives"></a><span data-ttu-id="1f235-119">学习目标</span><span class="sxs-lookup"><span data-stu-id="1f235-119">Learning objectives</span></span>

<span data-ttu-id="1f235-120">在本模块中, 您将:</span><span class="sxs-lookup"><span data-stu-id="1f235-120">In this module, you will:</span></span>

- <span data-ttu-id="1f235-121">选择是使用服务总线队列、主题还是中继在分布式应用程序中进行通信</span><span class="sxs-lookup"><span data-stu-id="1f235-121">Choose whether to use Service Bus queues, topics, or relays to communicate in a distributed application</span></span>
- <span data-ttu-id="1f235-122">在 azure 订阅中配置 azure 服务总线命名空间</span><span class="sxs-lookup"><span data-stu-id="1f235-122">Configure an Azure Service Bus namespace in an Azure subscription</span></span>
- <span data-ttu-id="1f235-123">创建服务总线**主题**并使用它来发送和接收邮件</span><span class="sxs-lookup"><span data-stu-id="1f235-123">Create a Service Bus **topic** and use it to send and receive messages</span></span>
- <span data-ttu-id="1f235-124">创建服务总线**队列**并使用它来发送和接收邮件</span><span class="sxs-lookup"><span data-stu-id="1f235-124">Create a Service Bus **queue** and use it to send and receive messages</span></span>

## <a name="prerequisites"></a><span data-ttu-id="1f235-125">先决条件</span><span class="sxs-lookup"><span data-stu-id="1f235-125">Prerequisites</span></span>

<span data-ttu-id="1f235-126">无</span><span class="sxs-lookup"><span data-stu-id="1f235-126">None</span></span>