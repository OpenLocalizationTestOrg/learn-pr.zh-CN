我们来看看如何使用 Azure 门户创建和修改仪表板, 以及直接编辑基础 JSON 文件。 在此单元中, 你将了解如何解决问题, 在下一个单元中, 你将试用你学到的东西。

## <a name="what-is-a-dashboard"></a>什么是仪表板？

_仪表板_是 Azure 门户中显示的 UI 磁贴的可自定义集合。 您可以添加、删除和放置图块来创建所需的确切视图, 然后将该视图另存为仪表板。 支持多个仪表板, 并且可以根据需要在它们之间进行切换。 您甚至可以与其他团队成员共享仪表板。

仪表板为你提供了相当大的灵活性, 与你管理 Azure 的方式有关。 例如, 您可以为组织内的特定角色创建仪表板, 然后使用基于角色的访问控制 (RBAC) 来控制谁可以访问该仪表板。 因此, 数据库管理员将拥有包含 SQL database service 视图的仪表板, 而您的 azure Active Directory 管理员将拥有 Azure AD 中的用户和组的视图。 您甚至可以在门户中的生产环境和开发环境之间自定义门户-为所管理的每个环境创建特定的仪表板。

仪表板存储为 JavaScript 对象表示法 (JSON) 文件。 这意味着可以将它们上载并下载到其他计算机, 或与 Azure 目录的成员共享。 Azure 将仪表板存储在资源组中, 就像可以在门户中管理的虚拟机或存储帐户一样。

> [!TIP]
> 由于仪表板是 JSON 文件, 因此也可以[通过编程方式自定义它们](https://docs.microsoft.com/azure/azure-portal/azure-portal-dashboards-create-programmatically), 从而让它们成为引人注目的管理工具。 此外, 某些图块类型可以是基于查询的, 因此它们会在源数据发生更改时自动更新。

## <a name="explore-the-default-dashboard"></a>浏览默认仪表板

默认仪表板名为 "仪表板"。 当您首次登录门户时, 将显示包含四个磁贴的此仪表板。

![显示具有不同部件编号和突出显示的默认仪表板的屏幕截图。](../media/6-dashboard-default-webparts.png)

这些默认 web 部件是

1. 仪表板控件

1. 所有资源平铺

1. 快速入门 + 教程磁贴

1. 服务运行状况图块

1. Marketplace 磁贴

## <a name="creating-and-managing-dashboards"></a>创建和管理仪表板

仪表板顶部是使您能够创建、上载、下载、编辑和共享仪表板的控件。 您还可以将仪表板切换到全屏, 进行克隆或将其删除。

![显示自定义仪表板控件的屏幕截图](../media/6-customise-dashboard-controls.png)

## <a name="select-dashboard"></a>选择仪表板

工具栏的最左侧是 "**选择仪表板**" 下拉控件。 通过单击此控件, 可以从已为您的帐户定义的仪表板中进行选择。 此控件使您可以轻松地为不同的目的定义多个仪表板, 然后从一个仪表板切换到另一个, 具体取决于您在何时尝试执行的操作。

请注意, 您创建的任何仪表板最初都是专用的;也就是说, 只有你可以看到它们。 若要使仪表板在整个企业中可用, 您需要将其共享。 我们将很快查看该选项。

## <a name="create-a-new-dashboard"></a>创建新仪表板

若要创建新仪表板, 请单击 "**新建仪表板**"。 显示仪表板工作区, 无平铺显示。 然后, 您可以添加、删除和调整磁贴 (但您喜欢)。 完成自定义仪表板后, 单击 "**完成自定义**" 以保存并切换到该仪表板。

## <a name="upload-and-download"></a>上载和下载

使用 "**上载**" 和 "**下载**" 按钮, 可以将当前仪表板下载为 JSON 文件, 对其进行自定义, 然后将其分发并上载, 或者让其他人将该文件上传回 Azure 门户, 从而将其替换为当前图表.

如果单击 "**下载**", 则当前仪表板将 JSON 代码下载为可在本地编辑的文件。 然后, 可以通过单击 "**上传**" 按钮将其上传回 Azure。 下面将对此进行进一步讨论。

## <a name="edit-a-dashboard-using-the-portal"></a>使用门户编辑仪表板

虽然您可以通过下载 JSON 文件、更改文件中的值以及将文件上传回 Azure 来编辑仪表板, 但这种方法在设计用户界面方面并不直观。 若要使用 GUI 配置当前仪表板, 可以通过以下几种方式进入编辑模式:

1. 单击 "**编辑**" (铅笔图标) 按钮。
1. 右键单击仪表板背景区域, 然后选择 "**编辑**"。
1. 右键单击磁贴, 菜单将显示 "编辑" 选项。
1. 将鼠标悬停在仪表板上的图`...`块上-一个菜单将显示在顶部/右侧的 "编辑" 选项中。

仪表板切换到编辑模式。

![在编辑模式下显示仪表板的屏幕截图](../media/6-edit-dashboard.png)

左侧显示的是平铺库, 有几个可能的图块。 您可以按类别和资源类型筛选磁贴库。

添加磁贴就像从左侧列表中选择图块, 然后将其拖动到工作区一样简单。 然后, 您可以移动每个图块、调整其大小或更改它显示的数据。

> [!TIP]
> 很多人都不知道, 您可以在子刀片上获取元素并将其放在您的仪表板上。 只需将鼠标悬停在项目上, `...`查找 "磁贴编辑" 菜单即可, 这将具有一个 "固定到仪表板" 选项, 使您可以快速从服务中获取磁贴, 并将其放在仪表板上。

编辑模式下的工作区分成方形。 每个图块必须至少占用一个正方形, 图块将捕捉到最接近的最大图块分隔符集。 任何重叠的图块将移开。 当您缩小图块时, 周围的图块将随之向后移动。

#### <a name="change-tile-sizes"></a>更改磁贴大小

有些图块具有设置的大小, 您只能以编程方式编辑它们的大小。 不过, 您可以通过拖动角指示器来编辑具有灰色右下角的图块。

![突出显示带角指示器的图块的屏幕截图。](../media/6-resizable-tile.png)

或者, 右键单击上下文菜单并指定所需的大小。

![带有显示不同大小调整选项的上下文菜单的磁贴的屏幕截图。](../media/6-tile-size.png)

若要创建仪表板, 请将图块从图块库拖动到工作区, 然后重新排列它们。

#### <a name="change-tile-settings"></a>更改磁贴设置

有些图块具有可编辑的设置。 例如, 在时钟图块中, 将其拖动到工作区时, 将打开 "**编辑时钟**" 图块。 然后, 您可以设置它显示的时区, 还可以设置是以12小时还是24小时格式显示。

![显示时钟磁贴的编辑时钟设置的屏幕截图。](../media/6-edit-clock.png)

对于多国或 transcontinental 公司, 可以添加时钟, 每个都位于不同的时区。

#### <a name="accepting-your-edits"></a>接受编辑

根据需要排列磁贴后, 请单击 "**完成自定义**" 或右键单击, 然后单击 "**完成自定义**"。

## <a name="edit-a-dashboard-by-changing-the-json-file"></a>通过更改 JSON 文件来编辑仪表板

您还可以通过更改 JSON 文件来编辑仪表板。 此方法提供了更多用于更改设置的选项, 但在将文件上传回 Azure 之前无法看到这些更改。 最简单的起点是下载前面所述的仪表板 JSON, 并编辑该文件。

![下载的仪表板 JSON 文件的屏幕截图。](../media/6-json-code.png)

例如, 在上面显示的 JSON 中, 若要更改磁贴的大小, 请编辑**colSpan**和**行宽**变量, 然后保存该文件并将其上传回 Azure。

> [!Tip]
> 您还可以将仪表板 JSON 文件分发给其他用户。

## <a name="reset-a-dashboard"></a>重置仪表板

您可以将任何仪表板重置为默认样式。 在编辑模式下, 右键单击仪表板背景, 然后选择 "**重置为默认状态**"。 将有一个对话框要求您确认是否要重置该仪表板。

## <a name="share-or-unshare-a-dashboard"></a>共享或取消共享仪表板

当您定义新仪表板时, 它是私有的, 并且仅对您的帐户可见。 若要使其他人能够看到它, 您需要共享一个仪表板。 但是, 与任何其他 Azure 资源一样, 您需要指定要在其中存储共享仪表板的新资源组 (或使用现有资源组)。 如果没有现有的资源组, Azure 将在指定的任何位置创建*仪表板*资源组。 如果您有现有的资源组, 则可以指定该资源组来存储仪表板。

![共享仪表板之前, 共享和访问控制刀片的屏幕截图。](../media/6-share-dashboards-default.png)

共享模板后, 您将看到第二个共享和**访问控制**刀片。

![共享仪表板后, 共享和访问控制刀片的屏幕截图。](../media/6-share-dashboards-access-control.png)

然后, 您可以单击 "**管理用户**" 来指定有权访问该仪表板的用户。

### <a name="switching-to-a-shared-dashboard"></a>切换到共享仪表板

若要切换到共享仪表板, 请单击仪表板列表, 然后单击 "**浏览所有仪表板**"。

![显示 "浏览所有仪表板" 链接突出显示的共享 dashobards 列表的屏幕截图。](../media/6-browse-dashboards.png)

现在, 您将看到**所有仪表板**边栏, 并显示任何共享仪表板的名称。 只需单击仪表板即可将其应用到 Azure 门户。

![显示所有仪表板边栏共享仪表板的屏幕截图。](../media/6-select-shared-dashboard.png)

## <a name="display-a-dashboard-as-a-full-screen"></a>以全屏方式显示仪表板

如果您想要最大的仪表板房地产, 请单击 "**全屏**" 按钮以显示不包含任何浏览器菜单的当前仪表板。 如果屏幕显示边界之外的任何图块, 则屏幕的右侧和底部将显示滑块条。

在全屏模式下工作后, 按 ESC 键或单击屏幕顶部的仪表板名称旁边的 "**退出全屏**"。

## <a name="clone-a-dashboard"></a>克隆仪表板

克隆仪表板将创建一个名为 "复制\<仪表板 name>" 的即时副本, 并切换为该副本作为当前仪表板。 克隆也是在共享仪表板之前创建仪表板的简单方法。 例如, 如果您的仪表板几乎是您想要的, 请先克隆它, 再进行所需的更改, 然后再进行共享。

## <a name="delete-a-dashboard"></a>删除仪表板

删除仪表板会将其从可用仪表板列表中删除。 系统将提示您确认是否要删除仪表板, 但没有用于恢复已删除的仪表板的功能。

让我们通过创建新仪表板来试用其中一些选项。
